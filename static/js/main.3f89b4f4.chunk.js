(this.webpackJsonpcoursedo=this.webpackJsonpcoursedo||[]).push([[0],{140:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},207:function(e,t,n){},241:function(e,t,n){},243:function(e,t,n){},350:function(e,t,n){},401:function(e,t,n){},561:function(e,t,n){},832:function(e,t){},870:function(e,t,n){},871:function(e,t,n){},872:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(22),c=n(430),i=n(431),o=n(245),s=n(477),l=n(474),u=n(887),d=n(888),j=n(73),b=n(0),h=n.n(b),p=n(94),O=Object(p.b)({forceRefresh:!0}),m="#FF8A00",f="NORMAL",g=Object.freeze({STUDENT:0,TEACHER:1,ADMIN:2,NOT_VERIFIED:3}),x="12345678";var v=u.a.Text,y=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).closeModal=function(){n.instance.setState({isShow:!1})},a.handleOk=function(){n.instance.state.onPress(),n.instance.closeModal()},a.handleCancel=function(){n.instance.closeModal()},n.instance=Object(o.a)(a),a.state={isShow:!1,title:"",content:"",type:f,onPress:function(){}},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(a.jsx)(d.a,{title:n.instance.state.title,visible:n.instance.state.isShow,centered:!0,onOk:n.instance.handleOk,onCancel:n.instance.handleCancel,footer:n.instance.state.type===f?[Object(a.jsx)(j.a,{type:"primary",onClick:n.instance.handleOk,size:"large",children:"OK"},"okButton")]:[Object(a.jsx)(j.a,{onClick:n.instance.handleCancel,size:"large",children:"Cancel"},"cancelButton"),Object(a.jsx)(j.a,{size:"large",type:"primary",onClick:n.instance.handleOk,children:"OK"},"okButton")],children:Object(a.jsx)(v,{children:n.instance.state.content})})}}]),n}(h.a.Component);y.instance=null,y.alertMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Information",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An unexpected error has occured. Try again later.",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};y.instance.setState({isShow:!0,title:e,content:t,type:n,onPress:a})};var C=n(349),E=n(92),S=n(437),T=n.n(S),w=n(884),I=n(331),A=n(439),N=n.n(A),k=n(896),D=n(76),P=n(13),R=Object(P.a)("SET_CURRENT_PAGE"),_=Object(P.a)("GET_CATEGORIES_REQUEST"),L=Object(P.a)("GET_CATEGORIES_SUCCESS"),F=Object(P.a)("GET_CATEGORIES_FAILED"),B=Object(P.a)("ADD_CATEGORY_REQUEST"),U=Object(P.a)("ADD_CATEGORY_SUCCESS"),M=Object(P.a)("ADD_CATEGORY_FAILED"),z=Object(P.a)("UPDATE_CATEGORY_REQUEST"),G=Object(P.a)("UPDATE_CATEGORY_SUCCESS"),H=Object(P.a)("UPDATE_CATEGORY_FAILED"),V=Object(P.a)("DELETE_CATEGORY_REQUEST"),Q=Object(P.a)("DELETE_CATEGORY_SUCCESS"),W=Object(P.a)("DELETE_CATEGORY_FAILED"),q=Object(P.a)("GET_USERS_REQUEST"),K=Object(P.a)("GET_USERS_SUCCESS"),Y=Object(P.a)("GET_USERS_FAILED"),J=Object(P.a)("GET_USER_PROFILE_REQUEST"),$=Object(P.a)("GET_USER_PROFILE_SUCCESS"),Z=Object(P.a)("GET_USER_PROFILE_FAILED"),X=Object(P.a)("GET_ALL_COURSES_REQUEST"),ee=Object(P.a)("GET_ALL_COURSES_SUCCESS"),te=Object(P.a)("GET_ALL_COURSES_FAILED"),ne=Object(P.a)("DELETE_COURSE_REQUEST"),ae=Object(P.a)("DELETE_COURSE_SUCCESS"),re=Object(P.a)("DELETE_COURSE_FAILED"),ce=n(480),ie=n(877),oe=n(264),se=n(878),le=n(9),ue=n(440),de=n.n(ue),je=Object(P.a)("SIGNIN_REQUEST"),be=Object(P.a)("SIGNIN_REQUEST_SUCCESS"),he=Object(P.a)("SIGNIN_REQUEST_FAILED"),pe=Object(P.a)("SIGNUP_REQUEST"),Oe=Object(P.a)("SIGNUP_REQUEST_SUCCESS"),me=Object(P.a)("SIGNUP_REQUEST_FAILED"),fe=Object(P.a)("RESET_PASSWORD_REQUEST"),ge=Object(P.a)("RESET_PASSWORD_SUCCESS"),xe=Object(P.a)("RESET_PASSWORD_FAILED"),ve=Object(P.a)("CREATE_PASSWORD_REQUEST"),ye=Object(P.a)("CREATE_PASSWORD_SUCCESS"),Ce=Object(P.a)("CREATE_PASSWORD_FAILED"),Ee=Object(P.a)("CHANGE_PASSWORD_REQUEST"),Se=Object(P.a)("CHANGE_PASSWORD_SUCCESS"),Te=Object(P.a)("CHANGE_PASSWORD_FAILED"),we=Object(P.a)("GET_PROFILE_REQUEST"),Ie=Object(P.a)("GET_PROFILE_SUCCESS"),Ae=Object(P.a)("GET_PROFILE_FAILED"),Ne=Object(P.a)("UPDATE_PROFILE_REQUEST"),ke=Object(P.a)("UPDATE_PROFILE_SUCCESS"),De=Object(P.a)("UPDATE_PROFILE_FAILED"),Pe=Object(P.a)("VERIFY_EMAIL"),Re=Object(P.a)("VERIFY_EMAIL_SUCCESS"),_e=Object(P.a)("VERIFY_EMAIL_FAILED"),Le=Object(P.a)("GET_WATCHLIST_REQUEST"),Fe=Object(P.a)("GET_WATCHLIST_SUCCESS"),Be=Object(P.a)("GET_WATCHLIST_FAILED"),Ue=Object(P.a)("REFRESH_TOKEN_REQUEST"),Me=Object(P.a)("REFRESH_TOKEN_SUCCESS"),ze=Object(P.a)("REFRESH_TOKEN_FAILED"),Ge=Object(P.a)("SIGNOUT_REQUEST"),He=Object(P.a)("EMPTY_ACTION"),Ve=n(285),Qe=n(900);function We(e){var t="".concat("https://coursedo.herokuapp.com/api","/").concat(e.url),n=e.param,a=dn.getState().Auth,r=a.token,c=a.prevLogin,i=a.refreshToken;c&&(new Date).getTime()-c>86e6&&dn.dispatch(Ue.get({accessToken:r,refreshToken:i}));var o=r?{"Content-Type":"application/json",accept:"application/json","Access-Control-Allow-Origin":!0,"Accept-Language":"vi",Authorization:r}:{"Content-Type":"application/json",accept:"application/json","Access-Control-Allow-Origin":!0,"Accept-Language":"vi"};return Object(Ve.a)(de.a.request(Object(le.a)({url:t,timeout:15e3,headers:o,method:e.method||"POST",data:n},"GET"===e.method?{params:n,data:{}}:{data:n})).catch((function(e){return Promise.resolve(e.response)}))).pipe(Object(oe.a)((function(e){return e})),Object(Qe.a)((function(e){return function(e,t,n){JSON.stringify(t,null,"\x1b[32m"),JSON.stringify(n,null,"\x1b[32m")}(0,n,e)})))}var qe=Object(k.a)((function(e){return e.pipe(Object(ce.a)(je.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/login",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status&&(null===(t=e.data)||void 0===t?void 0:t.authenticated)?be.get(e.data):(y.alertMessage("Information","Email or password may not correct. Please try again."),he.get(e.data.message))})),Object(se.a)((function(e){return he.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(pe.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/signup",param:e.payload}).pipe(Object(oe.a)((function(t){var n;return 201===t.status?(e.payload.role===g.TEACHER?dn.dispatch(q.get({role:g.TEACHER})):(dn.dispatch(Object(D.d)("/signin",{from:"/signup"})),y.alertMessage("Information","Sign up succeed. Please sign in to continue.")),Oe.get(t.data)):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),me.get(t))})),Object(se.a)((function(e){return me.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(fe.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/resetPassword",param:e.payload}).pipe(Object(oe.a)((function(e){return 200===e.status?(y.alertMessage("Information",e.data.message,f,(function(){return dn.dispatch(Object(D.d)("/"))})),ge.get(e.data)):(y.alertMessage(),xe.get(e))})),Object(se.a)((function(e){return xe.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(ve.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/createPassword",param:e.payload}).pipe(Object(oe.a)((function(e){return 200===e.status?(y.alertMessage("Information",e.data.message,f,(function(){return dn.dispatch(Object(D.d)("/signin"))})),ye.get(e.data)):(y.alertMessage(),Ce.get(e))})),Object(se.a)((function(e){return Ce.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Pe.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/verifyEmail",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?(y.alertMessage("Information",e.data.message,f,(function(){return dn.dispatch(Object(D.d)("/"))})),Re.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),_e.get(e))})),Object(se.a)((function(e){return _e.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Ee.type),Object(ie.a)((function(e){return We({method:"POST",url:"users/".concat(e.payload.id,"/changePassword"),param:e.payload.data}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?(y.alertMessage("Information","Change password succeed. Please sign in to continue.",f,(function(){dn.dispatch(Ge.get()),O.push({pathname:"/signin",state:{from:"/profile"}})})),Se.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),Te.get(e))})),Object(se.a)((function(e){return Te.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Ne.type),Object(ie.a)((function(e){return We({method:"PATCH",url:"users/".concat(e.payload.id),param:e.payload.data}).pipe(Object(oe.a)((function(t){var n;return 200===t.status?(dn.dispatch(we.get(e.payload.id)),y.alertMessage("Information","Update profile succeed."),ke.get(t.data)):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),De.get(t))})),Object(se.a)((function(e){return De.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(we.type),Object(ie.a)((function(e){return We({method:"GET",url:"users/".concat(e.payload)}).pipe(Object(oe.a)((function(e){return 200===e.status?Ie.get(e.data):Ae.get(e)})),Object(se.a)((function(e){return Ae.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(ae.type),Object(oe.a)((function(e){return dn.dispatch(we.get(dn.getState().Auth.user.id)),He.get()})))}),(function(e){return e.pipe(Object(ce.a)(Le.type),Object(ie.a)((function(e){return We({method:"GET",url:"users/".concat(e.payload,"/watchlist")}).pipe(Object(oe.a)((function(e){return 200===e.status?Fe.get(e.data):Be.get(e)})),Object(se.a)((function(e){return Be.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Ue.type),Object(ie.a)((function(e){return We({method:"POST",url:"auth/refresh",param:e.payload}).pipe(Object(oe.a)((function(e){return 200===e.status?Me.get(e.data):(y.alertMessage(),ze.get(e))})),Object(se.a)((function(e){return ze.get(e)})))})))})),Ke=Object(k.a)((function(e){return e.pipe(Object(ce.a)(_.type),Object(ie.a)((function(e){return We({method:"GET",url:"category"}).pipe(Object(oe.a)((function(e){return 200===e.status?L.get(e.data):F.get(e)})),Object(se.a)((function(e){return F.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(B.type),Object(ie.a)((function(e){return We({method:"POST",url:"category",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 201===e.status?(dn.dispatch(_.get()),U.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),M.get(e))})),Object(se.a)((function(e){return M.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(z.type),Object(ie.a)((function(e){return We({method:"PATCH",url:"category/".concat(e.payload.id),param:e.payload.data}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?(dn.dispatch(_.get()),G.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),H.get(e))})),Object(se.a)((function(e){return H.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(V.type),Object(ie.a)((function(e){return We({method:"DELETE",url:"category/".concat(e.payload)}).pipe(Object(oe.a)((function(e){var t;return 204===e.status?(dn.dispatch(_.get()),Q.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),W.get(e))})),Object(se.a)((function(e){return W.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(q.type),Object(ie.a)((function(e){return We({method:"GET",url:"users",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?K.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),Y.get(e))})),Object(se.a)((function(e){return Y.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(J.type),Object(ie.a)((function(e){return We({method:"GET",url:"users/".concat(e.payload)}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?$.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),Z.get(e))})),Object(se.a)((function(e){return Z.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(X.type),Object(ie.a)((function(e){return We({method:"GET",url:"course",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?ee.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),te.get(e))})),Object(se.a)((function(e){return te.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(ne.type),Object(ie.a)((function(e){return We({method:"DELETE",url:"course/".concat(e.payload)}).pipe(Object(oe.a)((function(e){var t;if(200===e.status){dn.dispatch(X.get());var n=dn.getState().Dashboard.userDetail;return n&&dn.dispatch(J.get(n.id)),ae.get(e.data)}return y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),re.get(e)})),Object(se.a)((function(e){return re.get(e)})))})))})),Ye=Object(P.a)("ADD_COURSE_REQUEST"),Je=Object(P.a)("ADD_COURSE_SUCCESS"),$e=Object(P.a)("ADD_COURSE_FAILED"),Ze=Object(P.a)("GET_COURSE_DETAIL_REQUEST"),Xe=Object(P.a)("GET_COURSE_DETAIL_SUCCESS"),et=Object(P.a)("GET_COURSE_DETAIL_FAILED"),tt=Object(P.a)("UPDATE_COURSE_REQUEST"),nt=Object(P.a)("UPDATE_COURSE_SUCCESS"),at=Object(P.a)("UPDATE_COURSE_FAILED"),rt=Object(P.a)("DELETE_CHAPTER_REQUEST"),ct=Object(P.a)("DELETE_CHAPTER_SUCCESS"),it=(Object(P.a)("DELETE_CHAPTER_FAILED"),Object(k.a)((function(e){return e.pipe(Object(ce.a)(Ye.type),Object(ie.a)((function(e){return We({method:"POST",url:"course",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 201===e.status?(y.alertMessage("Information","Succeed creating course. Go back to home",f,(function(){return O.replace("/")})),Je.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),$e.get(e))})),Object(se.a)((function(e){return $e.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Ze.type),Object(ie.a)((function(e){return We({method:"GET",url:"course/".concat(e.payload)}).pipe(Object(oe.a)((function(e){return 200===e.status?Xe.get(e.data):et.get(e)})),Object(se.a)((function(e){return et.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(tt.type),Object(ie.a)((function(e){return We({method:"PATCH",url:"course/".concat(e.payload.id),param:e.payload.data}).pipe(Object(oe.a)((function(t){var n;return 200===t.status?(Object.keys(e.payload.data).length>1&&y.alertMessage("Information","Succeed editing course. Go back.",f,(function(){return O.replace("/course/".concat(e.payload.id))})),nt.get(t.data)):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),at.get(t))})),Object(se.a)((function(e){return at.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(rt.type),Object(ie.a)((function(e){return We({method:"DELETE",url:"course/".concat(e.payload.courseId,"/chapter/").concat(e.payload.chapterId)}).pipe(Object(oe.a)((function(t){var n;return 204===t.status?(null===(n=e.payload)||void 0===n||n.onSuccess(),ct.get(t.data)):W.get(t)})),Object(se.a)((function(e){return W.get(e)})))})))}))),ot=Object(P.a)("SEARCH_COURSE_REQUEST"),st=Object(P.a)("SEARCH_COURSE_SUCCESS"),lt=Object(P.a)("SEARCH_COURSE_FAILED"),ut=Object(P.a)("GET_HOME_COURSE_REQUEST"),dt=Object(P.a)("GET_HOME_COURSE_SUCCESS"),jt=Object(P.a)("GET_HOME_COURSE_FAILED"),bt=Object(k.a)((function(e){return e.pipe(Object(ce.a)(ot.type),Object(ie.a)((function(e){return We({method:"GET",url:"course",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?st.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),lt.get(e))})),Object(se.a)((function(e){return lt.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(ut.type),Object(ie.a)((function(e){return We({method:"GET",url:"course/home",param:e.payload}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?dt.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),jt.get(e))})),Object(se.a)((function(e){return jt.get(e)})))})))})),ht=Object(P.a)("GET_COURSES_FILTER_REQUEST"),pt=Object(P.a)("GET_COURSES_FILTER_SUCCESS"),Ot=Object(P.a)("GET_COURSES_FILTER_FAILED"),mt=Object(P.a)("GET_COURSES_CATE_REQUEST"),ft=Object(P.a)("GET_COURSES_CATE_SUCCESS"),gt=Object(P.a)("GET_COURSES_CATE_FAILED"),xt=Object(P.a)("UPDATE_CUR_CATE"),vt=Object(P.a)("UPDATE_SEARCH"),yt=Object(k.a)((function(e){return e.pipe(Object(ce.a)(ht.type),Object(ie.a)((function(e){return We({method:"GET",url:"course",param:e.payload}).pipe(Object(oe.a)((function(t){var n,a,r;return 200===t.status?pt.get(Object(le.a)(Object(le.a)({},t.data),{},{page:e.payload.page||null,sort:(null===(a=e.payload)||void 0===a?void 0:a.sort)||null,sortOrder:(null===(r=e.payload)||void 0===r?void 0:r.sortOrder)||null})):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),Ot.get(t))})),Object(se.a)((function(e){return Ot.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(mt.type),Object(ie.a)((function(e){return We({method:"GET",url:"course",param:e.payload}).pipe(Object(oe.a)((function(t){var n,a,r;return 200===t.status?ft.get(Object(le.a)(Object(le.a)({},t.data),{},{page:e.payload.page||null,sort:(null===(a=e.payload)||void 0===a?void 0:a.sort)||null,sortOrder:(null===(r=e.payload)||void 0===r?void 0:r.sortOrder)||null})):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),gt.get(t))})),Object(se.a)((function(e){return gt.get(e)})))})))})),Ct=Object(P.a)("GET_COURSES_DETAIL_REQUEST"),Et=Object(P.a)("GET_COURSES_DETAIL_SUCCESS"),St=Object(P.a)("GET_COURSES_DETAIL_FAILED"),Tt=Object(P.a)("ADD_TO_WATCHLIST_REQUEST"),wt=Object(P.a)("ADD_TO_WATCHLIST_SUCCESS"),It=Object(P.a)("ADD_TO_WATCHLIST_FAILED"),At=Object(P.a)("ENROLL_REQUEST"),Nt=Object(P.a)("ENROLL_SUCCESS"),kt=Object(P.a)("ENROLL_FAILED"),Dt=Object(P.a)("SAVE_PROGRESS_REQUEST"),Pt=Object(P.a)("SAVE_PROGRESS_SUCCESS"),Rt=Object(P.a)("SAVE_PROGRESS_FAILED"),_t=Object(P.a)("RATING_REQUEST"),Lt=Object(P.a)("RATING_SUCCESS"),Ft=Object(P.a)("RATING_FAILED"),Bt=Object(P.a)("GET_LIST_FEEDBACK_REQUEST"),Ut=Object(P.a)("GET_LIST_FEEDBACK_SUCCESS"),Mt=Object(P.a)("GET_LIST_FEEDBACK_FAILED"),zt=Object(P.a)("UPDATE_CUR_CHAPTER"),Gt=Object(P.a)("CLEAN_COURSE"),Ht=Object(P.a)("CLEAN_FEEDBACKS"),Vt=Object(k.a)((function(e){return e.pipe(Object(ce.a)(Ct.type),Object(ie.a)((function(e){return We({method:"GET",url:"course/".concat(e.payload)}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?Et.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),St.get(e))})),Object(se.a)((function(e){return St.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(At.type),Object(ie.a)((function(e){return We({method:"POST",url:"course/".concat(e.payload.id,"/enroll"),param:e.payload.data,option:{format:"json"}}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?Nt.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),kt.get(e))})),Object(se.a)((function(e){return kt.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Tt.type),Object(ie.a)((function(e){return We({method:"PATCH",url:"users/".concat(e.payload.id,"/watchlist"),param:{courseId:e.payload.courseId}}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?wt.get(e.data):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),It.get(e))})),Object(se.a)((function(e){return It.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Dt.type),Object(ie.a)((function(e){return We({method:"PATCH",url:"course/".concat(e.payload.courseId,"/enroll/").concat(e.payload.enrollmentId),param:e.payload.data}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?(y.alertMessage("Information","Update progression successfully!!!"),Pt.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),Rt.get(e))})),Object(se.a)((function(e){return Rt.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(_t.type),Object(ie.a)((function(e){return We({method:"POST",url:"course/".concat(e.payload.id,"/rating"),param:e.payload.data,option:{format:"json"}}).pipe(Object(oe.a)((function(e){var t;return 200===e.status?(y.alertMessage("Information","Thanks for your feedback!!!"),Lt.get(e.data)):(y.alertMessage("Information",null===(t=e.data)||void 0===t?void 0:t.message),Ft.get(e))})),Object(se.a)((function(e){return Ft.get(e)})))})))}),(function(e){return e.pipe(Object(ce.a)(Bt.type),Object(ie.a)((function(e){return We({method:"GET",url:"course/".concat(e.payload.id,"/feedback"),param:{page:e.payload.page,limit:10}}).pipe(Object(oe.a)((function(t){var n;return 200===t.status?Ut.get(Object(le.a)(Object(le.a)({},t.data),{},{page:e.payload.page})):(y.alertMessage("Information",null===(n=t.data)||void 0===n?void 0:n.message),Mt.get(t))})),Object(se.a)((function(e){return Mt.get(e)})))})))})),Qt=Object(k.a)(qe,Ke,it,bt,yt,Vt),Wt=n(244),qt={courseList:[],page:1,sort:null,sortOrder:null,total:0,curCate:""};var Kt={isLoading:!1,courseDetail:null,isUpdating:!1};var Yt="CATEGORY",Jt="COURSE",$t="STUDENT",Zt="TEACHER",Xt="PROFILE",en=[{value:0,text:"Verified"},{value:3,text:"Not verified"}],tn={isLoading:!1,isLoadingDashboard:!1,currentPage:Yt,detailPage:null,categoryList:[],userList:[],userDetail:null,courseList:[]};var nn={course:null,chapter:null,isLoading:!1,feedbacks:[],total:0,page:1};var an={isLoading:!1,trending:[],mostBuy:[],newest:[],trendCategory:[],searchCourses:[],totalItems:0};var rn={token:null,refreshToken:null,user:null,isLoading:!1,isLoadingProfile:!1,watchlist:[],prevLogin:null};var cn=Object(E.c)({Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.type:return Object(le.a)(Object(le.a)({},e),{},{token:t.payload.accessToken,refreshToken:t.payload.refreshToken,user:t.payload,prevLogin:(new Date).getTime()});case Ne.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case ke.type:case De.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case we.type:return Object(le.a)(Object(le.a)({},e),{},{isLoadingProfile:!0});case Ie.type:return Object(le.a)(Object(le.a)({},e),{},{user:Object(le.a)(Object(le.a)({},e.user),t.payload),isLoadingProfile:!1});case Ae.type:return Object(le.a)(Object(le.a)({},e),{},{isLoadingProfile:!1});case Le.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case Fe.type:return Object(le.a)(Object(le.a)({},e),{},{watchlist:t.payload,isLoading:!1});case Be.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case Tt.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case wt.type:return Object(le.a)(Object(le.a)({},e),{},{watchlist:t.payload,isLoading:!1});case It.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case Me.type:return Object(le.a)(Object(le.a)({},e),{},{token:t.payload.accessToken,user:Object(le.a)(Object(le.a)({},e.user),{},{token:t.payload.accessToken}),prevLogin:(new Date).getTime()});case Ee.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case Se.type:case Te.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case wt.type:return Object(le.a)(Object(le.a)({},e),{},{watchlist:t.payload});case Ge.type:return rn;default:return e}},Dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case L.type:return Object(le.a)(Object(le.a)({},e),{},{categoryList:t.payload,isLoading:!1});case F.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case q.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case K.type:return Object(le.a)(Object(le.a)({},e),{},{userList:t.payload,isLoading:!1});case Y.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case J.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case $.type:return Object(le.a)(Object(le.a)({},e),{},{userDetail:t.payload,isLoading:!1});case Z.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case X.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case ee.type:return Object(le.a)(Object(le.a)({},e),{},{courseList:t.payload.page?t.payload.results:t.payload,page:t.payload.page,isLoading:!1});case te.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case R.type:return Object(le.a)(Object(le.a)({},e),{},{currentPage:t.payload.currentPage,detailPage:t.payload.detailPage});case Ge.type:return tn;default:return e}},Course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.type:return Kt;case Ze.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case Xe.type:return Object(le.a)(Object(le.a)({},e),{},{courseDetail:t.payload,isLoading:!1});case et.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case tt.type:return Object(le.a)(Object(le.a)({},e),{},{isUpdating:!0});case nt.type:case at.type:return Object(le.a)(Object(le.a)({},e),{},{isUpdating:!1});case Ye.type:return Object(le.a)(Object(le.a)({},e),{},{isUpdating:!0});case Je.type:case $e.type:return Object(le.a)(Object(le.a)({},e),{},{isUpdating:!1});default:return e}},Home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case dt.type:return Object(le.a)(Object(le.a)({},e),{},{trending:t.payload.treding.results,mostBuy:t.payload.mostBuy,newest:t.payload.newest,trendCategory:t.payload.trendCategory,isLoading:!1});case jt.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});case ot.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case st.type:return Object(le.a)(Object(le.a)({},e),{},{searchCourses:t.payload.results,totalItems:t.payload.total,isLoading:!1});case lt.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1});default:return e}},CourseList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt.type:case ft.type:return Object(le.a)(Object(le.a)({},e),{},{courseList:t.payload.results,page:t.payload.page,sortOrder:t.payload.sortOrder,sort:t.payload.sort,total:t.payload.total});case xt.type:return Object(le.a)(Object(le.a)({},e),{},{curCate:t.payload,page:1});case vt.type:return Object(le.a)(Object(le.a)({},e),{},{page:1,sortOrder:null,sort:null,total:0});default:return e}},DetailCourse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!0});case Et.type:return Object(le.a)(Object(le.a)({},e),{},{course:t.payload,isLoading:!1});case St.type:return Object(le.a)(Object(le.a)({},e),{},{isLoading:!1,chapter:null});case Nt.type:return Object(le.a)(Object(le.a)({},e),{},{course:Object(le.a)(Object(le.a)({},e.course),{},{isEnrolled:null!==t.payload.id})});case zt.type:return Object(le.a)(Object(le.a)({},e),{},{chapter:t.payload});case Ut.type:return Object(le.a)(Object(le.a)({},e),{},{feedbacks:t.payload.results,page:t.payload.page,total:t.payload.total});case Gt.type:return Object(le.a)(Object(le.a)({},e),{},{course:null,chapter:null});case Ht.type:return Object(le.a)(Object(le.a)({},e),{},{feedbacks:[],total:0,page:1});default:return e}},router:Object(Wt.a)(O)}),on=Object(w.a)(),sn=Object(E.a)(on,Object(C.a)(O)),ln=(Object(E.a)(T.a,on,Object(C.a)(O)),{key:"root",storage:N.a}),un=Object(I.a)(ln,cn),dn=Object(E.e)(un,Object(E.d)(sn));on.run(Qt);var jn=Object(I.b)(dn),bn=n(43),hn=n.n(bn),pn=n(1),On=n(12),mn=n(442),fn=n.p+"static/media/bg.21245b34.png",gn=n.p+"static/media/logo.19a91f5e.png",xn=n(879).a.Footer;var vn=function(){return Object(a.jsxs)(xn,{style:{backgroundColor:"#212121",textAlign:"center",width:"100%"},children:[Object(a.jsx)("img",{src:gn,width:"100",height:"100",style:{objectFit:"contain"}}),Object(a.jsx)("p",{children:"All Right Reserved | COURSEDO 2021"})]})},yn=n(34),Cn=n(901),En=n(902),Sn=n(892),Tn=n(889),wn=n(126),In=n(270),An=n(479),Nn=n(893),kn=n(890),Dn=n(57),Pn=wn.a.SubMenu,Rn=function(e){var t=Object(Dn.e)(),n=Object(On.d)();return Object(a.jsx)(wn.a,{style:{width:256},mode:"vertical",children:(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){var r;return Object(a.jsx)(Pn,{onTitleClick:function(){n(xt.get(null===e||void 0===e?void 0:e.name)),t.push("/categories/".concat(e.id))},title:Object(a.jsx)("div",{style:{flexDirection:"row",justifyContent:"space-between"},children:Object(a.jsx)("span",{children:e.name})}),children:(null===(r=e.subCategory)||void 0===r?void 0:r.length)>0?e.subCategory.map((function(e){return Object(a.jsx)(wn.a.Item,{style:{minWidth:200},onClick:function(){n(xt.get(null===e||void 0===e?void 0:e.name)),t.push("/categories/".concat(e.id))},children:null===e||void 0===e?void 0:e.name})})):Object(a.jsx)("div",{})})})):Object(a.jsx)("div",{})})},_n=Sn.a.Search,Ln=Tn.a.Link;var Fn=function(e){var t=Object(b.useState)(!1),n=Object(yn.a)(t,2),r=n[0],c=n[1],i=Object(Dn.e)(),o=Object(On.e)((function(e){return e.Auth.user})),s=Object(On.e)((function(e){return e.Dashboard.categoryList})),l=Object(On.d)(),u=Object(a.jsxs)(wn.a,{style:{width:200},children:[Object(a.jsx)(wn.a.Item,{onClick:function(){i.push("/profile")},children:"Profile"},"profile"),Object(a.jsx)(wn.a.Item,{onClick:function(){i.push("/my-courses")},children:"My courses"},"course"),Object(a.jsx)(wn.a.Item,{onClick:function(){l(Ge.get())},children:"Log Out"},"logout")]}),d=Object(a.jsxs)(wn.a,{style:{width:200},children:[Object(a.jsx)(wn.a.Item,{onClick:function(){i.push("/profile")},children:"Profile"},"profile"),Object(a.jsx)(wn.a.Item,{onClick:function(){i.push("/admin")},children:"Dashboard"},"dashboard"),Object(a.jsx)(wn.a.Item,{onClick:function(){l(Ge.get())},children:"Log Out"},"logout")]});return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{id:"logo",children:Object(a.jsx)("span",{id:"logoText",onClick:function(){return i.push({pathname:"/",state:{from:"/"}})},children:"coursedo"})}),Object(a.jsx)("div",{children:1!==(null===o||void 0===o?void 0:o.role)?Object(a.jsx)(In.a,{overlay:Rn(s),style:{marginBottom:30},children:Object(a.jsx)("a",{id:"categoriesTxt",className:"ant-dropdown-link",children:"Categories"})}):Object(a.jsx)("div",{})})]}),Object(a.jsxs)("div",{className:"mobileHidden",children:[!("addCourse"===(null===e||void 0===e?void 0:e.from))&&(null===o||void 0===o?void 0:o.role)===g.TEACHER&&Object(a.jsx)(j.a,{type:"primary",style:{borderRadius:50,marginRight:24},onClick:function(){return i.push("/create")},children:"Add new course"}),1!==(null===o||void 0===o?void 0:o.role)?Object(a.jsxs)("div",{children:[Object(a.jsx)(_n,{style:{width:"30vw"},placeholder:"Search for Courses i.e web-development",enterButton:"Search",size:"large",onSearch:function(e){var t=e.trim();/\S+/.test(t)&&(l(vt.get()),i.push({pathname:"/courses",search:"keyword=".concat(t),state:{from:"/"}}))}}),Object(a.jsx)(j.a,{shape:"round",style:{borderWidth:0},id:"btnTxt",onClick:function(){return i.push({pathname:"/courses",state:{from:"/"}})},children:"Courses"}),Object(a.jsx)(j.a,{shape:"round",style:{borderWidth:0,marginRight:30},id:"btnTxt",onClick:function(){return i.push({pathname:"/about",state:{from:"/"}})},children:"About"})]}):Object(a.jsx)("div",{}),o?(null===o||void 0===o?void 0:o.avatar)?Object(a.jsx)(An.a,{placement:"bottomRight",content:(null===o||void 0===o?void 0:o.role)===g.ADMIN?d:u,trigger:"click",children:Object(a.jsx)(Nn.a,{size:48,src:null===o||void 0===o?void 0:o.avatar})}):Object(a.jsx)(An.a,{placement:"bottomRight",content:(null===o||void 0===o?void 0:o.role)===g.ADMIN?d:u,trigger:"click",children:Object(a.jsx)(Nn.a,{size:48,icon:Object(a.jsx)(Cn.a,{})})}):Object(a.jsx)(j.a,{type:"primary",style:{borderRadius:50},onClick:function(){return i.push({pathname:"/signin",state:{from:"/"}})},children:"Sign in"})]}),Object(a.jsxs)("div",{className:"mobileVisible",children:[Object(a.jsx)(j.a,{type:"primary",onClick:function(){console.info("show"),c(!0)},children:Object(a.jsx)(En.a,{})}),Object(a.jsx)(kn.a,{placement:"right",closable:!1,onClose:function(){c(!1)},visible:r,children:Object(a.jsxs)(Tn.a,{targetOffset:"65",children:[1!==(null===o||void 0===o?void 0:o.role)?Object(a.jsx)(_n,{allowClear:!0,placeholder:"Search for Courses i.e web-development",onSearch:function(t){return e.onSearch(t)},enterButton:"Search"}):Object(a.jsx)("div",{}),o?Object(a.jsx)(An.a,{placement:"bottomRight",content:(null===o||void 0===o?void 0:o.role)===g.ADMIN?d:u,trigger:"click",children:Object(a.jsx)("p",{className:"ant-anchor-link",style:{fontFamily:"Source Sans Pro",fontWeight:"bold",paddingTop:10},children:o.fullName})}):Object(a.jsx)("div",{}),1!==(null===o||void 0===o?void 0:o.role)?Object(a.jsxs)("div",{children:[Object(a.jsx)(Ln,{href:"#courses",title:"Courses"}),Object(a.jsx)(Ln,{href:"#about",title:"About"})]}):Object(a.jsx)("div",{}),!("addCourse"===(null===e||void 0===e?void 0:e.from))&&(null===o||void 0===o?void 0:o.role)===g.TEACHER&&Object(a.jsx)(Ln,{href:"#create",title:"Add new course"}),o?Object(a.jsx)("div",{}):Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(j.a,{type:"primary",style:{borderRadius:50,width:"80%",marginBlock:10},onClick:function(){return i.push({pathname:"/signin",state:{from:"/"}})},children:"Sign in"})})]})})]})]})})},Bn=n(54);n(207),n(561);var Un=function(){return Object(Bn.useMediaQuery)({minDeviceWidth:1224}),Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fn,{onSearch:function(e){return console.info("keyword",e)}}),Object(a.jsxs)("div",{className:"panel panel-info",children:[Object(a.jsx)("div",{className:"panel-heading",children:Object(a.jsx)("h3",{className:"panel-title",children:"About COURSEDO"})}),Object(a.jsx)("div",{className:"panel-body",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:"+84 938394171 "}),Object(a.jsx)("span",{children:"coursedo.com@gmail.com"}),Object(a.jsx)("span",{children:"227 Nguyen Van Cu street, Ward 4, District 5, HCMC city"})]})})]}),Object(a.jsx)(vn,{})]})},Mn=n(222),zn=n(880),Gn=n(881),Hn=n(284),Vn=n(894),Qn=n(891);n(350);var Wn=function(e){var t,n=Object(Dn.e)(),r=function(e){return 0===e.price||0===e.promotionPrice?"FREE":e.promotionPrice>0&&e.promotionPrice<e.price?"".concat(((e.price-e.promotionPrice)/e.price*100).toFixed(2),"% OFF"):!0===function(e){var t=new Date;return t.setDate(t.getDate()-2),new Date(e)>t}(e.updatedAt)?"NEW":e.enrollCount>5?"HOT":"$"+e.price};return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:Object(a.jsxs)(Vn.a.Ribbon,{text:r(e.item),color:"HOT"===r(e.item)||"NEW"===r(e.item)?"red":r(e.item).includes("OFF")?"#27AE60":"#FF8A00",children:[Object(a.jsx)("div",{onClick:function(){return n.push("/course/".concat(e.id))},className:"container",style:{backgroundImage:"url(".concat(e.img?e.img:"https://source.unsplash.com/random",")"),width:200,height:170},children:Object(a.jsxs)("div",{className:"overlay",children:[Object(a.jsx)("div",{className:"items"}),Object(a.jsxs)("div",{className:"items head",children:[Object(a.jsx)("div",{style:{width:130},children:Object(a.jsx)("p",{id:"title",children:null===(t=e.cate)||void 0===t?void 0:t.toUpperCase()})}),Object(a.jsxs)(zn.a,{children:[null!==e.item.promotionPrice&&e.item.promotionPrice>=0&&e.item.promotionPrice<e.price&&Object(a.jsxs)("p",{id:"promotion",children:["$ ",e.price]}),Object(a.jsx)("p",{id:"priceTxt",children:0===e.price||0===e.item.promotionPrice?"FREE":e.item.promotionPrice>0?"$"+e.item.promotionPrice:"$"+e.price})]}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:.3,alignItems:"center"},children:[Object(a.jsx)(Qn.a,{className:"price",disabled:!0,defaultValue:e.rating}),Object(a.jsx)("p",{className:"price rating",children:"(".concat(e.total,")")})]})]})]})}),Object(a.jsxs)("div",{id:"card",style:{width:200,height:80},children:[Object(a.jsx)("p",{id:"title",children:e.title}),Object(a.jsx)("p",{id:"teacher",style:{marginTop:"-2vh"},children:e.teacher})]})]})})},qn=(n(174),n(273)),Kn=n.n(qn),Yn=Mn.a.Option,Jn=wn.a.SubMenu;var $n=function(e){var t=Object(On.d)(),n=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),r=Object(On.e)((function(e){return e.CourseList})),c=r.courseList,i=r.page,o=r.sort,s=r.sortOrder,l=r.total,u=Object(On.e)((function(e){return e.Dashboard})).categoryList,d=Object(On.e)((function(e){return e.Auth.user})),h=Kn.a.parse(e.location.search),p=(null===h||void 0===h?void 0:h.keyword)||null;Object(b.useEffect)((function(){var e={keyword:p,page:Math.floor(l/6)+1<i?1:i,limit:6,sort:o,sortOrder:s};return t(ht.get(e)),function(){}}),[t,p,i,s,o]);var m=function(e){var n=null;"1"===e?n={keyword:p,page:1,limit:6}:"2"===e?n={keyword:p,page:1,limit:6,sort:"rating"}:"3"===e?n={keyword:p,page:1,limit:6,sort:"price",sortOrder:"asc"}:"4"===e&&(n={keyword:p,page:1,limit:6,sort:"price",sortOrder:"desc"}),t(ht.get(n))};return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fn,{}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"white"},children:n&&Object(a.jsxs)("div",{id:"landing",style:{backgroundImage:"url(".concat(fn,")")},children:[Object(a.jsx)("span",{id:"welcomeTxt",children:"Browse Thousands of Our Video Tutorials Curated Only for you."}),d?Object(a.jsx)("div",{}):Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"white",color:"#FFC000"},type:"primary",onClick:function(){return O.push("/signup")},children:"Join for Free"})]})}),Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:[Object(a.jsxs)(zn.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,marginTop:50},children:[Object(a.jsx)(Gn.a,{children:Object(a.jsx)("p",{id:"catTitle",children:null!==p?p[0].toUpperCase()+p.slice(1):"All Courses"})}),Object(a.jsx)(Gn.a,{children:Object(a.jsxs)(Mn.a,{defaultValue:"Sort By",style:{width:120},onChange:m,children:[Object(a.jsx)(Yn,{value:"1",children:"Sort"}),Object(a.jsx)(Yn,{value:"2",children:"Rating"}),Object(a.jsx)(Yn,{value:"3",children:"Price Increase"}),Object(a.jsx)(Yn,{value:"4",children:"Price Decrease"})]})})]}),Object(a.jsx)(zn.a,{gutter:16,children:c.length>0?c.map((function(e){return Object(a.jsx)(Gn.a,{span:8,xs:24,sm:12,md:8,style:{marginBlock:30},children:Object(a.jsx)(Wn,{id:e.id,img:e.thumbnail,title:e.name,teacher:e.teacherName,cate:e.category,price:e.price,rating:e.rating,total:e.ratingCount,item:e})})})):Object(a.jsx)("div",{})}),Object(a.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flex:1,marginBlock:60},children:Object(a.jsx)(Hn.a,{current:i,onChange:function(e){return function(e){var n={keyword:p,page:e,limit:6,sort:o,sortOrder:s};t(ht.get(n))}(e)},total:l,pageSize:6})})]}),n&&Object(a.jsx)("div",{style:{marginTop:50},children:Object(a.jsx)(wn.a,{style:{width:256},mode:"inline",children:(null===u||void 0===u?void 0:u.length)>0?u.map((function(e,n){var r;return Object(a.jsx)(Jn,{title:e.name,onTitleClick:function(){t(xt.get(null===e||void 0===e?void 0:e.name)),O.push("/categories/".concat(e.id))},children:(null===(r=e.subCategory)||void 0===r?void 0:r.length)>0?e.subCategory.map((function(e){return Object(a.jsx)(wn.a.Item,{onClick:function(){t(xt.get(null===e||void 0===e?void 0:e.name)),O.push("/categories/".concat(e.id))},children:e.name},e.id.toString())})):Object(a.jsx)("div",{})},"sub"+n.toString())})):Object(a.jsx)("div",{})})})]})}),Object(a.jsx)(vn,{})]})},Zn=Mn.a.Option,Xn=wn.a.SubMenu;var ea=function(e){var t=Object(On.d)(),n=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),r=Object(On.e)((function(e){return e.CourseList})),c=r.courseList,i=r.page,o=r.sort,s=r.sortOrder,l=r.total,u=r.curCate,d=Object(On.e)((function(e){return e.Dashboard})).categoryList,h=Object(On.e)((function(e){return e.Auth.user})),p=(Kn.a.parse(e.location.search),e.match.params.id);Object(b.useEffect)((function(){var e={category:p,page:i,limit:6,sort:o,sortOrder:s};return t(mt.get(e)),function(){}}),[t,p,i]);var m=function(e){var n=null;"1"===e?n={category:p,page:1,limit:6}:"2"===e?n={category:p,page:1,limit:6,sort:"rating"}:"3"===e?n={category:p,page:1,limit:6,sort:"price",sortOrder:"asc"}:"4"===e&&(n={category:p,page:1,limit:6,sort:"price",sortOrder:"desc"}),t(mt.get(n))};return Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fn,{}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"white"},children:n&&Object(a.jsxs)("div",{id:"landing",style:{backgroundImage:"url(".concat(fn,")")},children:[Object(a.jsx)("span",{id:"welcomeTxt",children:"Browse Thousands of Our Video Tutorials Curated Only for you."}),h?Object(a.jsx)("div",{}):Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"white",color:"#FFC000"},type:"primary",onClick:function(){return O.push("/signup")},children:"Join for Free"})]})}),Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column"},children:[Object(a.jsxs)(zn.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,marginTop:50},children:[Object(a.jsx)(Gn.a,{children:Object(a.jsx)("p",{id:"catTitle",children:u})}),Object(a.jsx)(Gn.a,{children:Object(a.jsxs)(Mn.a,{defaultValue:"Sort By",style:{width:120},onChange:m,children:[Object(a.jsx)(Zn,{value:"1",children:"Sort"}),Object(a.jsx)(Zn,{value:"2",children:"Rating"}),Object(a.jsx)(Zn,{value:"3",children:"Price Increase"}),Object(a.jsx)(Zn,{value:"4",children:"Price Decrease"})]})})]}),Object(a.jsx)(zn.a,{gutter:16,children:c.length>0?c.map((function(e){return Object(a.jsx)(Gn.a,{span:8,xs:24,sm:12,md:8,style:{marginBlock:30},children:Object(a.jsx)(Wn,{id:e.id,img:e.thumbnail,title:e.name,teacher:e.teacherName,cate:e.category,price:e.price,rating:e.rating,total:e.ratingCount,item:e})})})):Object(a.jsx)("div",{})}),Object(a.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flex:1,marginBlock:60},children:Object(a.jsx)(Hn.a,{current:i,onChange:function(e){return function(e){var n={category:p,page:e,limit:6,sort:o,sortOrder:s};t(mt.get(n))}(e)},total:l,pageSize:6})})]}),n&&Object(a.jsx)("div",{style:{marginTop:50},children:Object(a.jsx)(wn.a,{style:{width:256},mode:"inline",children:(null===d||void 0===d?void 0:d.length)>0?d.map((function(e,n){var r;return Object(a.jsx)(Xn,{title:e.name,onTitleClick:function(){t(xt.get(null===e||void 0===e?void 0:e.name)),O.push("/categories/".concat(e.id))},children:(null===(r=e.subCategory)||void 0===r?void 0:r.length)>0?e.subCategory.map((function(e){return Object(a.jsx)(wn.a.Item,{onClick:function(){t(xt.get(null===e||void 0===e?void 0:e.name)),O.push("/categories/".concat(e.id))},children:e.name},e.id.toString())})):Object(a.jsx)("div",{})},"sub"+n.toString())})):Object(a.jsx)("div",{})})})]})}),Object(a.jsx)(vn,{})]})},ta=n(79),na=n.n(ta),aa=n(125),ra=n(903),ca=n(904),ia=n(897),oa=n(885),sa=n(898);n(175);var la,ua=function(e){return Object(a.jsxs)("div",{style:{width:"100%",marginBottom:12},children:[Object(a.jsx)(Sn.a,Object(le.a)({},e)),e.error&&Object(a.jsx)("span",{className:"errorStyle",children:e.error})]})},da=n(144),ja=n(274),ba=n.n(ja),ha=n(56),pa=n(478),Oa=n(181),ma=n.n(Oa),fa=n(297),ga=(null===(la=fa.a.apps)||void 0===la?void 0:la.length)?fa.a.app():fa.a.initializeApp({apiKey:"AIzaSyDuWf_0QhybMvAqQTPcBA3YoEiwWtqbLLU",authDomain:"coursedo-f3365.firebaseapp.com",projectId:"coursedo-f3365",storageBucket:"coursedo-f3365.appspot.com",messagingSenderId:"796599806619",appId:"1:796599806619:web:305598416c94d70e31b43e",measurementId:"G-85NDZ9JHMP"}),xa=n(26),va=function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},ya=function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)},Ca=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||pa.b.error("Only JPG and PNG are allowed!"),t};var Ea=function(e){var t=Object(On.d)(),n=Object(b.useState)(!1),r=Object(yn.a)(n,2),c=r[0],i=r[1],o=Object(b.useState)(null),s=Object(yn.a)(o,2),l=s[0],u=s[1],d=xa.c().shape({email:xa.e().trim().max(48,"Email must have at most 48 characters").label("Email").email("Invalid email").required("* Please input email"),fullName:xa.e().trim().required("* Please input password").min(3,"Full name must include at least 3 characters").max(64,"Full name must include at most 48 characters").matches(/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/,{message:"Invalid full name"}),avatar:xa.e().nullable(),phoneNumber:xa.e().required("* Please input phone number").matches(/((09|03|07|08|05)+([0-9]{8})\b)/,{message:"Invalid phone number"})}),h=function(){null===e||void 0===e||e.onClose()},p=Object(a.jsxs)("div",{children:[c?Object(a.jsx)(ra.a,{style:{color:m}}):Object(a.jsx)(ca.a,{}),Object(a.jsx)("div",{className:"ant-upload-text",style:{fontFamily:"Source Sans Pro"},children:c?"Uploading":"Upload"})]});return Object(a.jsx)(ma.a,{title:"Add new teacher",visible:e.visible||!1,onCancel:h,centered:!0,destroyOnClose:!0,footer:!1,children:Object(a.jsx)(ha.b,{initialValues:{email:"",fullName:"",avatar:"",phoneNumber:""},validationSchema:d,onSubmit:function(n){return function(n){ga.storage().ref("Avatar").child(l).getDownloadURL().then((function(e){t(pe.get(Object(le.a)(Object(le.a)({},n),{},{avatar:e,email:n.email.toLowerCase(),role:g.TEACHER,password:x})))})).catch(function(){var e=Object(aa.a)(na.a.mark((function e(a){var r,c;return na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ga.storage().ref("Avatar").child(l).putString(n.avatar,"data_url");case 3:return r=e.sent,e.next=6,r.ref.getDownloadURL();case 6:c=e.sent,t(pe.get(Object(le.a)(Object(le.a)({},n),{},{avatar:c,email:n.email.toLowerCase(),role:g.TEACHER,password:x}))),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),null===e||void 0===e||e.onClose()}(n)},children:function(e){var t=e.handleChange,n=e.handleBlur,r=e.handleSubmit,c=e.values,o=e.isValid,s=e.errors,l=(e.touched,e.setFieldTouched);e.setFieldValue;return Object(a.jsxs)(ha.a,{children:[Object(a.jsxs)(zn.a,{style:{marginBottom:16},children:[Object(a.jsx)(Gn.a,{span:8,children:"Avatar"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsx)(oa.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,customRequest:va,beforeUpload:Ca,onChange:function(e){return function(e,t){"uploading"!==e.file.status?"done"===e.file.status&&(u(e.file.name),ya(e.file.originFileObj,(function(e){t("avatar")(e),i(!1)}))):i(!0)}(e,t)},children:c.avatar?Object(a.jsx)("img",{src:c.avatar,alt:"avatar",style:{width:"100%"}}):p})})]}),Object(a.jsxs)(zn.a,{style:{marginBottom:16},children:[Object(a.jsx)(Gn.a,{span:8,children:"Name"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsx)(ua,{value:c.fullName,onChange:t("fullName"),onTouchStart:function(){return l("fullName")},onBlur:n("fullName"),placeholder:"Input name",error:s.fullName})})]}),Object(a.jsxs)(zn.a,{style:{marginBottom:16},children:[Object(a.jsx)(Gn.a,{span:8,children:"Phone number"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsx)(ua,{value:c.phoneNumber,onChange:t("phoneNumber"),onTouchStart:function(){return l("phoneNumber")},onBlur:n("phoneNumber"),placeholder:"Input phone number",error:s.phoneNumber})})]}),Object(a.jsxs)(zn.a,{style:{marginBottom:16},children:[Object(a.jsx)(Gn.a,{span:8,children:"Email"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsx)(ua,{value:c.email,onChange:t("email"),onTouchStart:function(){return l("email")},onBlur:n("email"),placeholder:"Input email",error:s.email})})]}),Object(a.jsxs)(zn.a,{justify:"end",children:[Object(a.jsx)(j.a,{style:{marginRight:16},size:"large",onClick:h,children:"Cancel"}),Object(a.jsx)(j.a,{disabled:!o,type:"primary",size:"large",onClick:r,children:"Create"})]})]})}})})},Sa=n(282),Ta=(n(400),xa.c({numberId:xa.b(),name:xa.e().trim().required("* Please input chapter name").max(255,"Chapter name must contain at most 255 characters"),description:xa.e().trim().nullable(),video:xa.e().trim().nullable()})),wa=xa.c().shape({name:xa.e().trim().required("* Please input name of course").max(255,"Course name must contain at most 255 characters"),price:xa.b().required("* Please input price").min(0,"Please input valid price"),promotionPrice:xa.b().nullable().min(0,"Please input valid price").lessThan(xa.d("price"),"Promotion price must be less than original price"),categoryId:xa.b().nullable().required("* Please choose category"),teacherId:xa.e().nullable().required("* Please choose teacher"),chapters:xa.a().required("* Please input at least 1 chapter").of(Ta),thumbnail:xa.e().nullable().required("* Please choose thumbnail for course")}),Ia=(n(401),u.a.Title),Aa=u.a.Text,Na=Mn.a.Option;function ka(e){var t=Object(On.d)(),n=Object(On.e)((function(e){return e.Auth.user})),r=Object(Dn.e)(),c=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),i=Object(On.e)((function(e){return e.Dashboard.userList})),o=Object(On.e)((function(e){return e.Dashboard.categoryList})),s=Object(On.e)((function(e){return e.Course.isUpdating})),l=Object(b.useState)(!1),d=Object(yn.a)(l,2),h=d[0],p=d[1],O=Object(b.useState)(null),f=Object(yn.a)(O,2),x=f[0],v=f[1],y=[];o.forEach((function(e){y.push({name:e.name,id:e.id}),(null===e||void 0===e?void 0:e.subCategory)&&(null===e||void 0===e?void 0:e.subCategory.length)>0&&(null===e||void 0===e||e.subCategory.forEach((function(e){y.push({name:e.name,id:e.id})})))})),Object(b.useEffect)((function(){!n||n.role!==g.ADMIN&&n.role!==g.TEACHER?r.replace("/"):(t(_.get()),n.role===g.ADMIN&&t(q.get({role:g.TEACHER})))}),[n]);var C=function(e,n){e.chapters.forEach((function(e,t){e.numberId=t+1})),t(Ye.get(Object(le.a)(Object(le.a)({},e),{},{numberOfChapter:e.chapters.length,thumbnail:n,promotionPrice:Number(e.promotionPrice)?Number(e.promotionPrice):null})))};if(!n)return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{from:"addCourse"}),Object(a.jsxs)(ia.b,{size:"large",align:"center",direction:"vertical",children:[Object(a.jsx)(u.a,{variant:"body1",style:{margin:28},children:"You are not signed in. Please sign in to create course"}),Object(a.jsx)(j.a,{type:"primary",size:"large",onClick:function(){return r.push({pathname:"/signin",state:{from:"/create"}})},children:"Sign in"})]})]});var E=Object(a.jsxs)("div",{children:[h?Object(a.jsx)(ra.a,{style:{color:m}}):Object(a.jsx)(ca.a,{}),Object(a.jsx)("div",{className:"ant-upload-text",style:{fontFamily:"Source Sans Pro"},children:h?"Uploading":"Upload"})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{from:"addCourse"}),Object(a.jsx)(ha.b,{initialValues:{name:"",shortDescription:null,description:"",thumbnail:null,price:0,chapters:[{numberId:1,name:"",description:null,video:null}],categoryId:null,completeStatus:!1,publicStatus:!0,teacherId:n&&n.role===g.TEACHER?n.id:null,promotionPrice:null},isInitialValid:!1,validationSchema:wa,onSubmit:function(e){return function(e){ga.storage().ref("Courses").child(x).getDownloadURL().then((function(t){C(e,t)})).catch(function(){var t=Object(aa.a)(na.a.mark((function t(n){var a,r;return na.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ga.storage().ref("Courses").child(x).putString(e.thumbnail,"data_url");case 3:return a=t.sent,t.next=6,a.ref.getDownloadURL();case 6:r=t.sent,C(e,r),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())}(e)},children:function(e){var t=e.handleChange,o=e.handleBlur,l=e.handleSubmit,d=e.values,b=e.isValid,h=e.errors,O=(e.touched,e.setFieldTouched),m=e.setFieldValue;return Object(a.jsxs)("div",{className:"createBg",style:{marginLeft:c?64:0,marginRight:c?64:0},children:[Object(a.jsx)(Ia,{level:4,style:{textAlign:"center",marginBottom:48},children:"Create new course"}),Object(a.jsx)(oa.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,customRequest:va,beforeUpload:Ca,onChange:function(e){return function(e,t){"uploading"!==e.file.status?"done"===e.file.status&&(v(e.file.name),ya(e.file.originFileObj,(function(e){t("thumbnail")(e),p(!1)}))):p(!0)}(e,t)},children:d.thumbnail?Object(a.jsx)("img",{src:d.thumbnail,alt:"avatar",style:{width:"100%"}}):E}),Object(a.jsx)(u.a,{style:{color:"red"},children:h.thumbnail}),Object(a.jsxs)("div",{style:{marginTop:12},children:[Object(a.jsx)(Aa,{strong:!0,children:"Name"}),Object(a.jsx)(ua,{className:"inputBox",value:d.name,onChange:t("name"),onTouchStart:function(){return O("name")},onBlur:o("name"),placeholder:"Python Development",error:h.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Aa,{strong:!0,children:"Short description"}),Object(a.jsx)(ua,{className:"inputBox",value:d.shortDescription,onChange:t("shortDescription"),onTouchStart:function(){return O("shortDescription")},onBlur:o("shortDescription"),placeholder:"This is a Python course",error:h.shortDescription})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Aa,{strong:!0,children:"Description"}),Object(a.jsx)(Sa.Editor,{wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onBlur:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},n=Object(da.convertToRaw)(e.getCurrentContent()),a=ba()(n);t("description",a)}(t,m)}})]}),Object(a.jsxs)("div",{style:{marginBottom:12,marginTop:16},children:[Object(a.jsx)(Aa,{strong:!0,children:"Category"}),Object(a.jsxs)(Mn.a,{style:{width:"100%"},value:d.categoryId,onChange:function(e){return m("categoryId",e)},children:[Object(a.jsx)(Na,{value:null,children:"Choose one category"}),y.map((function(e){return Object(a.jsx)(Na,{value:e.id,children:e.name},"cate".concat(e.id))}))]}),Object(a.jsx)(u.a,{style:{color:"red"},children:h.categoryId})]}),n&&n.role===g.ADMIN&&Object(a.jsxs)("div",{style:{marginBottom:12,marginTop:16},children:[Object(a.jsx)(Aa,{strong:!0,children:"Teacher"}),Object(a.jsxs)(Mn.a,{style:{width:"100%"},value:d.teacherId,onChange:function(e){return m("teacherId",e)},children:[Object(a.jsx)(Na,{value:null,children:"Choose one teacher for this course"}),i.map((function(e){return Object(a.jsx)(Na,{value:e.id,children:e.fullName},"teacher".concat(e.id))}))]}),Object(a.jsx)(u.a,{style:{color:"red"},children:h.teacherId})]}),Object(a.jsxs)(zn.a,{align:"top",justify:"space-between",wrap:!0,gutter:32,children:[Object(a.jsxs)(Gn.a,{span:6,xs:24,sm:24,lg:12,className:"rowCol",children:[Object(a.jsx)(Aa,{strong:!0,style:{marginBottom:12,marginRight:8},children:"Price"}),Object(a.jsx)(ua,{className:"inputBox",value:d.price,onChange:t("price"),onTouchStart:function(){return O("price")},onBlur:o("price"),placeholder:"1.99",error:h.price,type:"number"})]}),Object(a.jsxs)(Gn.a,{span:6,xs:24,sm:24,lg:12,className:"rowCol",children:[Object(a.jsx)(Aa,{strong:!0,style:{marginBottom:12,marginRight:8},children:"Promotion price (left blank if not provided)"}),Object(a.jsx)(ua,{className:"inputBox",value:d.promotionPrice,onChange:t("promotionPrice"),onTouchStart:function(){return O("promotionPrice")},onBlur:o("promotionPrice"),placeholder:"0.99",error:h.promotionPrice,type:"number"})]}),Object(a.jsxs)(Gn.a,{span:6,xs:14,sm:12,lg:12,className:"rowCol",children:[Object(a.jsx)(Aa,{style:{marginRight:16},strong:!0,children:"Mark as complete"}),Object(a.jsx)(sa.a,{defaultChecked:d.completeStatus,onChange:function(e){return m("completeStatus",e)}})]}),Object(a.jsxs)(Gn.a,{span:6,xs:10,sm:12,lg:12,className:"rowCol",children:[Object(a.jsx)(Aa,{style:{marginRight:16},strong:!0,children:"Public"}),Object(a.jsx)(sa.a,{defaultChecked:d.publicStatus,onChange:function(e){return m("publicStatus",e)}})]})]}),Object(a.jsxs)("div",{style:{marginTop:48},children:[Object(a.jsx)(Ia,{style:{marginBottom:16},level:5,children:"Chapters"}),Object(a.jsx)(zn.a,{align:"top",justify:"start",wrap:!0,gutter:[{xs:8,sm:16,md:24},{xs:8,sm:16,md:24}],children:d.chapters.length>0&&d.chapters.map((function(e,t){var n,r,c;return Object(a.jsxs)(Gn.a,{span:8,xs:24,md:12,lg:8,children:[Object(a.jsxs)("div",{className:"rowCol",style:{marginBottom:8},children:[Object(a.jsxs)(Aa,{strong:!0,children:["Chapter ",t+1]}),Object(a.jsx)(j.a,{size:"middle",style:{backgroundColor:"red",color:"white"},onClick:function(){var e=d.chapters;e.splice(t,1),m("chapters",e)},children:"Delete"})]}),Object(a.jsx)(ua,{className:"inputBox",value:e.name,onChange:function(e){var n=d.chapters;n[t].name=e.target.value,m("chapters",n)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Chapter name",error:h.chapters&&"object"===typeof h.chapters&&(null===(n=h.chapters[t])||void 0===n?void 0:n.name)&&h.chapters[t].name}),Object(a.jsx)(ua,{className:"inputBox",value:e.description,onChange:function(e){var n=d.chapters;n[t].description=e.target.value,m("chapters",n)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Description",error:h.chapters&&"object"===typeof h.chapters&&(null===(r=h.chapters[t])||void 0===r?void 0:r.description)&&h.chapters[t].description}),Object(a.jsx)(ua,{className:"inputBox",value:e.video,onChange:function(e){var n=d.chapters;n[t].video=e.target.value,m("chapters",n)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Chapter video link",error:h.chapters&&"object"===typeof h.chapters&&(null===(c=h.chapters[t])||void 0===c?void 0:c.video)&&h.chapters[t].video})]},"step".concat(e.numberId))}))}),h.chapters&&"string"===typeof h.chapters&&Object(a.jsx)(u.a,{style:{color:"red"},children:h.chapters}),Object(a.jsx)(j.a,{size:"middle",type:"primary",style:{marginTop:16},onClick:function(){var e=d.chapters;e.push({numberId:d.chapters.length+1,name:"",description:null,video:null}),m("chapters",e)},children:"Add chapter"})]}),Object(a.jsxs)("div",{style:{textAlign:"center",marginTop:64},children:[Object(a.jsx)(j.a,{size:"large",style:{marginRight:24,backgroundColor:"red",color:"white"},onClick:function(){return r.goBack()},children:"Cancel"}),Object(a.jsx)(j.a,{size:"large",type:"primary",disabled:!b,onClick:l,loading:s,children:"Create"})]})]})}}),Object(a.jsx)(vn,{})]})}var Da=n.p+"static/media/forgot_password.88496ed7.jpg";var Pa=function(){var e=Object(Dn.f)().token,t=Object(Dn.e)(),n=Object(On.d)(),r=Object(On.e)((function(e){var t;return null===(t=e.Auth)||void 0===t?void 0:t.user})),c=Object(Bn.useMediaQuery)({minDeviceWidth:1224});Object(b.useEffect)((function(){!r&&e||t.replace("/")}),[r]);var i=xa.c().shape({password:xa.e().required("* Please input password").min(8,"Password must include at least 8 characters").max(48,"Password must include at most 48 characters").matches(/(?=.{8,})/,{message:"Password must include at least 8 characters"}),confirm:xa.e().required("* Please input password").min(8,"Password must include at least 8 characters").max(48,"Password must include at most 48 characters").matches(/(?=.{8,})/,{message:"Password must include at least 8 characters"}).oneOf([xa.d("password"),null],"Confirm password must be the same as password")}),o=function(t){n(ve.get({password:t.password,token:e}))},s=function(e,t,n){e&&"Enter"===t.key&&o(n)};return Object(a.jsxs)("div",{id:"bg",children:[Object(a.jsxs)("div",{id:"loginBg",children:[Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:Object(a.jsx)("img",{src:gn,alt:"logo",width:100})}),Object(a.jsx)("div",{id:"loginBox",children:Object(a.jsx)(ha.b,{initialValues:{password:"",confirm:""},isInitialValid:!1,validationSchema:i,onSubmit:function(e){return o(e)},children:function(e){var t=e.handleChange,n=e.handleBlur,r=e.handleSubmit,c=e.values,i=e.isValid,o=e.errors,l=(e.touched,e.setFieldTouched);return Object(a.jsxs)(ha.a,{className:"formStyle",children:[Object(a.jsx)("span",{id:"loginStyle",children:"Input new password to continue"}),Object(a.jsx)(ua,{className:"inputBox",value:c.password,onChange:t("password"),onTouchStart:function(){return l("password")},onBlur:n("password"),placeholder:"New password",onKeyPress:function(e){return s(i,e,c)},error:o.password,type:"password"}),Object(a.jsx)(ua,{className:"inputBox",value:c.confirm,onChange:t("confirm"),onTouchStart:function(){return l("confirm")},onBlur:n("confirm"),placeholder:"Confirm password",onKeyPress:function(e){return s(i,e,c)},error:o.confirm,type:"password"}),Object(a.jsx)(j.a,{style:{marginTop:24},id:"loginBtn",disabled:!i,type:"primary",onClick:r,children:"Reset password"})]})}})})]}),c&&Object(a.jsx)("div",{id:"imgBg",style:{backgroundImage:"url(".concat(Da,")")}})]})},Ra=n(283),_a=n(467),La=n(296),Fa=n(906),Ba=n(907),Ua=n(908),Ma=n(883),za=(n(140),Mn.a.Option),Ga="* You must enter name of category";var Ha=function(e){var t,n,r=Object(On.e)((function(e){return e.Dashboard.categoryList})),c=e.category?r.filter((function(t){var n;return t.id!==(null===(n=e.category)||void 0===n?void 0:n.id)})):r,i=Object(On.d)(),o=xa.c().shape({name:xa.e().trim().required(Ga).matches(/^[a-zA-Z\s]+$/,{message:"Category name cannot contain special characters"}),parentId:xa.b().nullable()}),s=function(){null===e||void 0===e||e.onClose()};return Object(a.jsx)(ma.a,{title:e.category?"Update category":"Add new category",visible:e.visible||!1,onCancel:s,centered:!0,destroyOnClose:!0,footer:!1,children:Object(a.jsx)(ha.b,{initialValues:{parentId:(null===(t=e.category)||void 0===t?void 0:t.parentId)||null,name:(null===(n=e.category)||void 0===n?void 0:n.name)||""},validationSchema:o,onSubmit:function(t){return function(t){e.category?i(z.get({id:e.category.id,data:t})):i(B.get(t)),null===e||void 0===e||e.onClose()}(t)},children:function(t){var n,r=t.handleChange,i=t.handleBlur,o=t.handleSubmit,l=t.values,u=t.isValid,d=t.errors,b=(t.touched,t.setFieldTouched),h=t.setFieldValue;return Object(a.jsxs)(ha.a,{children:[Object(a.jsxs)(zn.a,{style:{marginBottom:16},children:[Object(a.jsx)(Gn.a,{span:8,children:"Name"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsx)(ua,{value:l.name,onChange:r("name"),onTouchStart:function(){return b("name")},onBlur:i("name"),placeholder:"Name",error:d.name})})]}),(!e.category||(null===(n=e.category)||void 0===n?void 0:n.parentId))&&Object(a.jsxs)(zn.a,{style:{marginBottom:32},children:[Object(a.jsx)(Gn.a,{span:8,children:"Parent"}),Object(a.jsx)(Gn.a,{span:16,children:Object(a.jsxs)(Mn.a,{style:{width:"100%"},value:l.parentId,onChange:function(e){return h("parentId",e)},children:[Object(a.jsx)(za,{value:null,children:"Do not select to create parent category"}),c.map((function(e){return Object(a.jsx)(za,{value:e.id,children:e.name},"cate".concat(e.id))}))]})})]}),Object(a.jsxs)(zn.a,{justify:"end",children:[Object(a.jsx)(j.a,{style:{marginRight:16},size:"large",onClick:s,children:"Cancel"}),Object(a.jsx)(j.a,{disabled:!u,type:"primary",size:"large",onClick:o,children:e.category?"Update":"Add"})]})]})}})})},Va=n(905),Qa=n(458),Wa=n.n(Qa),qa=function(e,t,n,r,c,i,o){return{filterDropdown:function(n){var c=n.setSelectedKeys,s=n.selectedKeys,l=n.confirm,u=n.clearFilters;return Object(a.jsxs)("div",{style:{padding:8},children:[Object(a.jsx)(Sn.a,{ref:o,placeholder:t,value:s[0],onChange:function(e){return c(e.target.value?[e.target.value]:[])},onPressEnter:function(){return Ka(s,l,e,r,i)},style:{width:188,marginBottom:8,display:"block"}}),Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(j.a,{type:"primary",onClick:function(){return Ka(s,l,e,r,i)},icon:Object(a.jsx)(Va.a,{}),size:"small",style:{width:90},children:"Find"}),Object(a.jsx)(j.a,{onClick:function(){return Ya(u,r)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(a.jsx)(Va.a,{style:{color:e?m:void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return o.current.select()}))},render:function(t){return c===e?Object(a.jsx)(Wa.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n],autoEscape:!0,textToHighlight:t.toString()}):t}}},Ka=function(e,t,n,a,r){t(),r(n),a(e[0])},Ya=function(e,t){e(),t("")},Ja=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var $a=function(){var e=Object(On.e)((function(e){return e.Dashboard.categoryList})),t=Object(On.e)((function(e){return e.Dashboard.isLoading})),n=Object(On.d)(),r=Object(b.useState)(""),c=Object(yn.a)(r,2),i=c[0],o=c[1],s=Object(b.useState)(""),l=Object(yn.a)(s,2),u=l[0],h=l[1],p=Object(b.useRef)(),O=[];e.forEach((function(e){O.push({name:e.name,parent:null,id:e.id,parentId:e.parentId}),(null===e||void 0===e?void 0:e.subCategory)&&(null===e||void 0===e?void 0:e.subCategory.length)>0&&(null===e||void 0===e||e.subCategory.forEach((function(t){O.push({name:t.name,parent:e.name,id:t.id,parentId:t.parentId})})))}));var f=Object(b.useState)({isShow:!1,category:null}),g=Object(yn.a)(f,2),x=g[0],v=g[1];Object(b.useEffect)((function(){n(_.get())}),[]);var y=[Object(le.a)(Object(le.a)({},qa("name","Enter title to find",i,o,u,h,p)),{},{title:"Title",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)}}),Object(le.a)(Object(le.a)({},qa("parent","Enter title to find",i,o,u,h,p)),{},{title:"Parent",dataIndex:"parent",key:"parent",sorter:function(e,t){return e.parent.localeCompare(t.parent)}}),{title:"Action",key:"action",render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Ba.a,{style:{fontSize:20},onClick:function(){return function(e,t){v({isShow:!0,category:t})}(0,t)}}),Object(a.jsx)(Fa.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){d.a.confirm({title:"Confirm",icon:Object(a.jsx)(Fa.a,{style:{color:m}}),content:"Do you confirm to delete this category?",okText:"Confirm",cancelText:"Cancel",centered:!0,okButtonProps:{style:{backgroundColor:m}},onOk:function(){n(V.get(e.id)),d.a.destroyAll()}})}(t)}})]})}}];return t?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:Ja})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",children:"Categories"}),Object(a.jsx)(j.a,{type:"primary",icon:Object(a.jsx)(Ua.a,{}),style:{width:200,marginBottom:32},onClick:function(){v({isShow:!0,category:null})},size:"large",children:"Add new category"}),Object(a.jsx)(Ma.a,{columns:y,dataSource:O})]}),Object(a.jsx)(Ha,{visible:x.isShow,onClose:function(){v({isShow:!1,category:null})},category:x.category})]})},Za=n(909),Xa=n(328),er=n.n(Xa),tr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var nr=function(){var e=Object(On.e)((function(e){return e.Dashboard.courseList})),t=Object(On.e)((function(e){return e.Dashboard.isLoading})),n=Object(On.d)(),r=Object(b.useState)(""),c=Object(yn.a)(r,2),i=c[0],o=c[1],s=Object(b.useState)(""),l=Object(yn.a)(s,2),u=l[0],h=l[1],p=Object(b.useRef)(),O=Object(Dn.e)();Object(b.useEffect)((function(){n(X.get())}),[]);var f=[Object(le.a)(Object(le.a)({},qa("name","Enter name to find",i,o,u,h,p)),{},{title:"Course",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(er.a,{shape:"square",size:56,src:null===t||void 0===t?void 0:t.thumbnail}),Object(a.jsx)("span",{children:e})]})}}),Object(le.a)(Object(le.a)({},qa("category","Enter category to find",i,o,u,h,p)),{},{title:"Category",dataIndex:"category",key:"category",sorter:function(e,t){return e.category.localeCompare(t.category)}}),{title:"Enrollment",dataIndex:"enrollCount",key:"enrollCount",sorter:function(e,t){return Number(e.enrollCount)>Number(t.enrollCount)}},{title:"Rating",dataIndex:"rating",key:"rating",sorter:function(e,t){return e.rating>t.rating}},{title:"Price",dataIndex:"price",key:"price",sorter:function(e,t){return e.price>t.price}},Object(le.a)(Object(le.a)({},qa("teacherName","Enter teacher name to find",i,o,u,h,p)),{},{title:"Teacher",dataIndex:"teacherName",key:"teacherName",sorter:function(e,t){return e.teacherName.localeCompare(t.teacherName)},render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(er.a,{size:56,src:null===t||void 0===t?void 0:t.teacherAvatar}),Object(a.jsx)("span",{children:e})]})}}),{title:"Public",dataIndex:"publicStatus",key:"publicStatus",render:function(e,t){return Object(a.jsx)(ia.b,{children:Object(a.jsx)(sa.a,{defaultChecked:e,onChange:function(e){return n(tt.get({id:t.id,data:{publicStatus:e}}))}})})}},{title:"Action",key:"action",render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Za.a,{style:{fontSize:20},onClick:function(){return function(e){O.push("/course/".concat(e.id))}(t)}}),Object(a.jsx)(Ba.a,{style:{fontSize:20,color:m},onClick:function(){return function(e){O.push("/course/".concat(e.id,"/edit"))}(t)}}),Object(a.jsx)(Fa.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){d.a.confirm({title:"Confirm",icon:Object(a.jsx)(Fa.a,{style:{color:m}}),content:"Do you confirm to delete ".concat(e.name,"?"),okText:"Confirm",cancelText:"Cancel",centered:!0,okButtonProps:{style:{backgroundColor:m}},onOk:function(){n(ne.get(e.id)),d.a.destroyAll()}})}(t)}})]})}}];return t?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:tr})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",children:"Courses"}),Object(a.jsx)(j.a,{type:"primary",icon:Object(a.jsx)(Ua.a,{}),style:{width:200,marginBottom:32},onClick:function(){O.push("/create")},size:"large",children:"Add new course"}),Object(a.jsx)(Ma.a,{columns:f,dataSource:e})]})})},ar=n(886);var rr=function(e){var t=e.user;return Object(a.jsxs)("div",{style:{display:"flex",flex:1,justifyContent:"space-around",alignItems:"center",padding:48},children:[Object(a.jsxs)("div",{style:{textAlign:"center"},children:[(null===t||void 0===t?void 0:t.avatar)?Object(a.jsx)(Nn.a,{size:150,src:null===t||void 0===t?void 0:t.avatar}):Object(a.jsx)(Nn.a,{size:150,icon:Object(a.jsx)(Cn.a,{})}),Object(a.jsx)(u.a,{style:{fontSize:24,marginTop:16},children:t.fullName})]}),Object(a.jsxs)("div",{style:{width:400},children:[Object(a.jsx)(ua,{className:"inputBox",placeholder:"Full name",defaultValue:null===t||void 0===t?void 0:t.fullName,disabled:!0}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"Email",defaultValue:null===t||void 0===t?void 0:t.email,disabled:!0}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"Phone number",defaultValue:null===t||void 0===t?void 0:t.phoneNumber,disabled:!0})]})]})},cr=n(205),ir=n.n(cr);var or=function(e){var t=e.courseList,n=e.role,r=Object(b.useState)(""),c=Object(yn.a)(r,2),i=c[0],o=c[1],s=Object(b.useState)(""),l=Object(yn.a)(s,2),u=l[0],j=l[1],h=Object(b.useRef)(),p=Object(On.d)(),O=Object(Dn.e)(),f=[Object(le.a)(Object(le.a)({},qa("name","Enter name to find",i,o,u,j,h)),{},{title:"Course",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Nn.a,{shape:"square",size:56,src:null===t||void 0===t?void 0:t.thumbnail}),Object(a.jsx)("span",{children:e})]})}}),Object(le.a)(Object(le.a)({},qa("category","Enter category to find",i,o,u,j,h)),{},{title:"Category",dataIndex:"category",key:"category",sorter:function(e,t){return e.category.localeCompare(t.category)}}),n===g.TEACHER?{title:"Total enrollment",dataIndex:"totalEnroll",key:"totalEnroll",sorter:function(e,t){return Number(e.totalEnroll)>Number(t.totalEnroll)}}:{title:"Status",dataIndex:"currentChapter",key:"currentChapter",sorter:function(e,t){return e.currentChapter>t.currentChapter},render:function(e,t){return Object(a.jsx)("span",{style:{color:"green"},children:"".concat(t.currentChapter?t.currentChapter:0,"/").concat(t.numberOfChapter)})}},n===g.TEACHER?{title:"Rating",dataIndex:"rating",key:"rating",sorter:function(e,t){return e.rating>t.rating}}:Object(le.a)(Object(le.a)({},qa("teacher","Enter teacher name to find",i,o,u,j,h)),{},{title:"Teacher",dataIndex:"teacher",key:"teacher",sorter:function(e,t){return e.teacher.localeCompare(t.teacher)}}),{title:n===g.TEACHER?"Updated date":"Enroll date",dataIndex:"updatedAt",key:"updatedAt",sorter:function(e,t){return ir()(e.updatedAt).isBefore(ir()(t.updatedAt))},render:function(e,t){return Object(a.jsx)("span",{children:ir()(e).format("DD/MM/YYYY")})}},{title:"Action",key:"action",render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Za.a,{style:{fontSize:20},onClick:function(){return function(e){O.push("/course/".concat(e.id))}(t)}}),n===g.TEACHER&&Object(a.jsx)(Ba.a,{style:{fontSize:20,color:m},onClick:function(){return function(e){O.push("/course/".concat(e.id,"/edit"))}(t)}}),n===g.TEACHER&&Object(a.jsx)(Fa.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){d.a.confirm({title:"Confirm",icon:Object(a.jsx)(Fa.a,{style:{color:m}}),content:"Do you confirm to delete ".concat(e.name,"?"),okText:"Confirm",cancelText:"Cancel",centered:!0,okButtonProps:{style:{backgroundColor:m}},onOk:function(){p(ne.get(e.id)),d.a.destroyAll()}})}(t)}})]})}}];return Object(a.jsx)(Ma.a,{columns:f,dataSource:t})},sr=ar.a.TabPane,lr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var ur=function(){var e=Object(On.e)((function(e){return e.Dashboard.userList})),t=Object(On.e)((function(e){return e.Dashboard.isLoading})),n=Object(On.e)((function(e){return e.Dashboard.detailPage})),r=Object(On.e)((function(e){return e.Dashboard.userDetail})),c=Object(On.d)(),i=Object(b.useState)(""),o=Object(yn.a)(i,2),s=o[0],l=o[1],u=Object(b.useState)(""),d=Object(yn.a)(u,2),j=d[0],h=d[1],p=Object(b.useRef)(),O=Object(b.useState)(null),m=Object(yn.a)(O,2),f=m[0],x=m[1];Object(b.useEffect)((function(){c(q.get({role:"".concat(g.STUDENT,",").concat(g.NOT_VERIFIED)}))}),[]);var v=[Object(le.a)(Object(le.a)({},qa("id","Enter id to find",s,l,j,h,p)),{},{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.id.localeCompare(t.id)}}),Object(le.a)(Object(le.a)({},qa("fullName","Enter name to find",s,l,j,h,p)),{},{title:"Name",dataIndex:"fullName",key:"fullName",sorter:function(e,t){return e.fullName.localeCompare(t.fullName)}}),Object(le.a)(Object(le.a)({},qa("email","Enter email to find",s,l,j,h,p)),{},{title:"Email",dataIndex:"email",key:"email",sorter:function(e,t){return e.email.localeCompare(t.email)}}),Object(le.a)(Object(le.a)({},qa("phoneNumber","Enter email to find",s,l,j,h,p)),{},{title:"Phone number",dataIndex:"phoneNumber",key:"phoneNumber",sorter:function(e,t){return e.phoneNumber.localeCompare(t.phoneNumber)}}),{title:"Status",dataIndex:"role",render:function(e,t,n){switch(e){case g.STUDENT:return Object(a.jsx)("span",{style:{color:"green"},children:"Verified"});case g.NOT_VERIFIED:return Object(a.jsx)("span",{style:{color:"red"},children:"Not verified"});default:return Object(a.jsx)("span",{})}},filters:en,filteredValue:f?f.name:null,onFilter:function(e,t){return t.role===e}},{title:"Action",key:"action",render:function(e,t){return Object(a.jsx)(ia.b,{children:Object(a.jsx)(Za.a,{style:{fontSize:20},onClick:function(){return function(e){c(J.get(e.id)),c(R.get({currentPage:$t,detailPage:Xt}))}(t)}})})}}];return t?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:lr})}):n===Xt?Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",style:{alignSelf:"center"},children:"Profile"}),Object(a.jsxs)(ar.a,{defaultActiveKey:"1",centered:!0,children:[Object(a.jsx)(sr,{tab:"Information",children:Object(a.jsx)(rr,{user:r})},"1"),Object(a.jsx)(sr,{tab:"All courses",children:Object(a.jsx)(or,{courseList:r.enrollment,role:g.STUDENT})},"2")]})]}):Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",children:"Students"}),Object(a.jsx)(Ma.a,{columns:v,dataSource:e,onChange:function(e,t,n){x(t)}})]})},dr=ar.a.TabPane,jr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var br=function(){var e=Object(On.e)((function(e){return e.Dashboard.userList})),t=Object(On.e)((function(e){return e.Dashboard.isLoading})),n=Object(On.e)((function(e){return e.Dashboard.detailPage})),r=Object(On.e)((function(e){return e.Dashboard.userDetail})),c=Object(On.d)(),i=Object(b.useState)(""),o=Object(yn.a)(i,2),s=o[0],l=o[1],u=Object(b.useState)(""),d=Object(yn.a)(u,2),h=d[0],p=d[1],O=Object(b.useRef)(),m=Object(b.useState)(!1),f=Object(yn.a)(m,2),x=f[0],v=f[1];Object(b.useEffect)((function(){c(q.get({role:g.TEACHER}))}),[]);var y=[Object(le.a)(Object(le.a)({},qa("id","Enter id to find",s,l,h,p,O)),{},{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.id.localeCompare(t.id)}}),Object(le.a)(Object(le.a)({},qa("fullName","Enter name to find",s,l,h,p,O)),{},{title:"Name",dataIndex:"fullName",key:"fullName",sorter:function(e,t){return e.fullName.localeCompare(t.fullName)}}),Object(le.a)(Object(le.a)({},qa("email","Enter email to find",s,l,h,p,O)),{},{title:"Email",dataIndex:"email",key:"email",sorter:function(e,t){return e.email.localeCompare(t.email)}}),Object(le.a)(Object(le.a)({},qa("phoneNumber","Enter email to find",s,l,h,p,O)),{},{title:"Phone number",dataIndex:"phoneNumber",key:"phoneNumber",sorter:function(e,t){return e.phoneNumber.localeCompare(t.phoneNumber)}}),{title:"Action",key:"action",render:function(e,t){return Object(a.jsx)(ia.b,{children:Object(a.jsx)(Za.a,{style:{fontSize:20},onClick:function(){return function(e){c(J.get(e.id)),c(R.get({currentPage:Zt,detailPage:Xt}))}(t)}})})}}];return t?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:jr})}):n===Xt?Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",style:{alignSelf:"center"},children:"Profile"}),Object(a.jsxs)(ar.a,{defaultActiveKey:"1",centered:!0,children:[Object(a.jsx)(dr,{tab:"Information",children:Object(a.jsx)(rr,{user:r})},"1"),Object(a.jsx)(dr,{tab:"All courses",children:Object(a.jsx)(or,{courseList:r.courses,role:g.TEACHER})},"2")]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",children:"Teachers"}),Object(a.jsx)(j.a,{type:"primary",icon:Object(a.jsx)(Ua.a,{}),style:{width:200,marginBottom:32},onClick:function(){v(!0)},size:"large",children:"Add new teacher"}),Object(a.jsx)(Ma.a,{columns:y,dataSource:e})]}),Object(a.jsx)(Ea,{visible:x,onClose:function(){v(!1)}})]})},hr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var pr=function(){var e=Object(Dn.e)(),t=Object(On.d)(),n=Object(On.e)((function(e){return e.Auth.user})),r=Object(On.e)((function(e){return e.Dashboard.isLoadingDashboard}));Object(b.useEffect)((function(){n&&(null===n||void 0===n?void 0:n.role)===g.ADMIN||e.replace("/")}),[n]);var c=Object(On.e)((function(e){return e.Dashboard.currentPage}));return r||!n||n.role!==g.ADMIN?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:hr})}):Object(a.jsxs)("div",{id:"dashboardBg",children:[Object(a.jsxs)("div",{id:"menuContainer",children:[(null===n||void 0===n?void 0:n.avatar)?Object(a.jsx)(Nn.a,{size:100,src:null===n||void 0===n?void 0:n.avatar}):Object(a.jsx)(Nn.a,{size:100,icon:Object(a.jsx)(Cn.a,{})}),Object(a.jsx)("span",{id:"adminName",children:n.fullName?n.fullName:"Admin"}),Object(a.jsxs)(wn.a,{defaultSelectedKeys:[Yt],selectedKeys:[c],mode:"inline",onClick:function(e){t(R.get({currentPage:e.key}))},style:{backgroundColor:m},children:[Object(a.jsx)(wn.a.Item,{style:{color:"white"},className:"customItem",icon:Object(a.jsx)(La.b,{size:16,style:{marginRight:8}}),children:"Categories"},Yt),Object(a.jsx)(wn.a.Item,{style:{color:"white"},className:"customItem",icon:Object(a.jsx)(La.a,{size:16,style:{marginRight:8}}),children:"Courses"},Jt),Object(a.jsx)(wn.a.Item,{style:{color:"white"},className:"customItem",icon:Object(a.jsx)(_a.a,{size:14,style:{marginRight:8}}),children:"Teachers"},Zt),Object(a.jsx)(wn.a.Item,{style:{color:"white"},className:"customItem",icon:Object(a.jsx)(La.c,{size:16,style:{marginRight:8}}),children:"Students"},$t)]}),Object(a.jsx)(j.a,{type:"ghost",style:{width:"80%",marginTop:64,borderColor:"white",borderRadius:8,color:"white"},onClick:function(){return t(Ge.get()),void e.replace("/")},children:"Log out"})]}),function(){switch(c){case Yt:return Object(a.jsx)($a,{});case Jt:return Object(a.jsx)(nr,{});case Zt:return Object(a.jsx)(br,{});case $t:return Object(a.jsx)(ur,{});default:return Object(a.jsx)($a,{})}}()]})},Or=n(895);var mr=function(e){var t=Object(Dn.e)(),n=Object(On.d)();return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:function(){n(xt.get(e.title)),t.push("/categories/".concat(e.id))},children:[Object(a.jsx)("div",{className:"container blur",style:{backgroundImage:"url(".concat(e.img?e.img:"https://source.unsplash.com/random",")"),width:200,height:130}}),Object(a.jsx)("div",{id:"card",style:{width:200,height:70},children:Object(a.jsx)("p",{id:"title",children:e.title})})]})},fr=n(329),gr=n.n(fr);var xr=function(e){var t,n,r={dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};return Object(a.jsx)("div",{children:"courses"===e.type?Object(a.jsx)(gr.a,Object(le.a)(Object(le.a)({},r),{},{children:(null===(t=e.list)||void 0===t?void 0:t.length)>0?e.list.map((function(e){return Object(a.jsx)(Wn,{id:e.id,img:e.thumbnail,title:e.name,teacher:e.teacherName,cate:e.category,price:e.price,rating:e.rating,total:e.ratingCount,item:e})})):Object(a.jsx)("div",{})})):Object(a.jsx)(gr.a,Object(le.a)(Object(le.a)({},r),{},{children:(null===(n=e.list)||void 0===n?void 0:n.length)>0?e.list.map((function(e){return Object(a.jsx)(mr,{img:e.img,title:e.name,id:e.categoryId})})):Object(a.jsx)("div",{})}))})},vr=n(882),yr=n(899),Cr=(n(241),Sn.a.TextArea);var Er=function(){var e=Object(On.d)(),t=Object(b.useState)(0),n=Object(yn.a)(t,2),r=n[0],c=n[1],i=Object(b.useState)(""),o=Object(yn.a)(i,2),s=o[0],l=o[1],u=Object(On.e)((function(e){return e.DetailCourse.course})),d=Object(On.e)((function(e){return e.DetailCourse})),h=d.page,p=d.feedbacks,O=d.total;return Object(b.useEffect)((function(){if(null!==u&&null!==(null===u||void 0===u?void 0:u.id)){var t={id:u.id,page:h};e(Bt.get(t))}return function(){e(Ht.get())}}),[e,u]),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{id:"introHeader",style:{color:"#FF8A00"},children:"Ratings & Reviews"}),Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(a.jsx)("p",{className:"rateTxt",style:{marginBlock:"0em"},children:null===u||void 0===u?void 0:u.rating}),Object(a.jsxs)("p",{id:"introTxt",children:[null===u||void 0===u?void 0:u.ratingCount," ",1===(null===u||void 0===u?void 0:u.ratingCount)?"rating":"ratings"]})]}),Object(a.jsx)(Qn.a,{disabled:!0,defaultValue:null===u||void 0===u?void 0:u.rating,style:{fontSize:50,marginLeft:20,alignSelf:"center"}})]}),(null===u||void 0===u?void 0:u.isEnrolled)?Object(a.jsxs)(Gn.a,{children:[Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(Qn.a,{defaultValue:r,style:{fontSize:30,marginBottom:20,marginRight:20,alignSelf:"center"},onChange:c}),Object(a.jsxs)("p",{id:"introTxt",children:[r,"/5"]})]}),Object(a.jsx)(Cr,{showCount:!0,rows:4,style:{width:"40vw"},value:s||"",onChange:function(e){return l(e.target.value)}}),Object(a.jsxs)(zn.a,{style:{marginTop:50},children:[Object(a.jsx)(Gn.a,{span:8}),Object(a.jsx)(Gn.a,{span:8,xs:24,sm:12,md:8,children:Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"#FFC000",color:"white",height:40,width:200,fontSize:20,alignItems:"center"},type:"primary",disabled:0===r,onClick:function(){if(r>0||r>0&&/\S+/.test(s)){var t={data:{rating:r,feedback:s},id:null===u||void 0===u?void 0:u.id};e(_t.get(t)),c(0),l("")}},children:"Send"})}),Object(a.jsx)(Gn.a,{span:8})]})]}):Object(a.jsx)("div",{})]}),Object(a.jsxs)(Gn.a,{span:24,children:[Object(a.jsx)(vr.a,{orientation:"left",children:Object(a.jsx)("p",{id:"introTxt",children:"Reviews"})}),Object(a.jsx)(yr.b,{style:{marginTop:50},itemLayout:"horizontal",dataSource:p,renderItem:function(e){return Object(a.jsx)(yr.b.Item,{children:Object(a.jsx)(yr.b.Item.Meta,{avatar:Object(a.jsx)(Nn.a,{src:e.avatar}),title:Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)("p",{id:"introTxt",children:e.fullName}),Object(a.jsx)(Qn.a,{disabled:!0,defaultValue:e.rating,style:{fontSize:20,marginLeft:20,marginTop:-20,alignSelf:"center"}})]}),description:Object(a.jsx)("p",{id:"desTxt",children:e.feedback})})})}}),Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(a.jsx)(vr.a,{}),Object(a.jsx)(Hn.a,{current:h,onChange:function(t){return function(t){var n={id:u.id,page:t};e(Bt.get(n))}(t)},total:O,pageSize:10})]})]}),Object(a.jsx)(zn.a,{})]})},Sr=n(468),Tr=n.n(Sr);var wr=function(e){var t=e.teacherAvatar,n=e.teacherName,r=e.teacherEmail,c=e.description;return Object(On.d)(),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{id:"introHeader",style:{color:"#FF8A00"},children:"Instructor"}),Object(a.jsx)("div",{children:Object(a.jsxs)(zn.a,{children:[null!==t?Object(a.jsx)(Nn.a,{size:68,src:t}):Object(a.jsx)(Nn.a,{size:68,icon:Object(a.jsx)(Cn.a,{})}),Object(a.jsxs)(Gn.a,{style:{marginLeft:20},children:[Object(a.jsx)("p",{id:"introTxt",children:n}),Object(a.jsx)("a",{href:"mailto:"+r,id:"desTxt",children:r})]})]})}),Object(a.jsx)("p",{id:"introHeader",style:{color:"#FF8A00"},children:"Description"}),Object(a.jsx)("div",{children:Tr()(c)})]})},Ir=n(136),Ar=n(469),Nr=n.n(Ar);wn.a.SubMenu;var kr=function(e){var t=e.chapters,n=(e.poster,Object(On.d)()),r=Object(On.e)((function(e){return e.DetailCourse.chapter})),c=Object(On.e)((function(e){return e.DetailCourse.course})),i=Object(b.useState)(0),o=Object(yn.a)(i,2),s=o[0],l=o[1];return Object(a.jsxs)("div",{style:{width:"100vw"},children:[Object(a.jsxs)(zn.a,{children:[Object(a.jsx)(Gn.a,{span:6,xs:24,sm:12,md:6,children:Object(a.jsx)(wn.a,{style:{width:256},mode:"inline",children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return Object(a.jsxs)(wn.a.Item,{onClick:function(){n(zt.get(e))},children:["Chapter ",e.numberId,": ",e.name,Object(a.jsx)("br",{}),e.description]},e.id.toString())})):Object(a.jsx)("div",{})})}),Object(a.jsxs)(Gn.a,{span:12,xs:24,sm:12,children:[null!==r?Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{id:"introTxt",children:["Chapter ",null===r||void 0===r?void 0:r.numberId,": ",null===r||void 0===r?void 0:r.name]}),Object(a.jsxs)("p",{id:"desTxt",children:["Description: ",null===r||void 0===r?void 0:r.description]})]}):Object(a.jsx)("div",{}),null!==(null===r||void 0===r?void 0:r.video)?Object(a.jsx)(zn.a,{children:Object(a.jsx)(Nr.a,{playsinline:!0,url:null===r||void 0===r?void 0:r.video,onProgress:function(e){var t=e.playedSeconds;return l(t)}})}):Object(a.jsx)(Ir.a,{image:Ir.a.PRESENTED_IMAGE_SIMPLE})]})]}),null!==r&&null!==(null===r||void 0===r?void 0:r.video)&&(null===c||void 0===c?void 0:c.isEnrolled)?Object(a.jsxs)(zn.a,{style:{marginTop:50},children:[Object(a.jsx)(Gn.a,{span:8}),Object(a.jsx)(Gn.a,{span:8,xs:24,sm:12,md:8,children:Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"#FFC000",color:"white",height:40,width:200,fontSize:20,alignItems:"center"},type:"primary",onClick:function(){var e={data:{currentChapter:null===r||void 0===r?void 0:r.numberId,currentVideoTime:s},courseId:null===c||void 0===c?void 0:c.id,enrollmentId:null===c||void 0===c?void 0:c.enrollmentId};n(Dt.get(e))},children:"Update progression"})}),Object(a.jsx)(Gn.a,{span:8})]}):Object(a.jsx)("div",{})]})},Dr=ar.a.TabPane,Pr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var Rr=function(e){var t=Object(On.d)(),n=Object(Dn.e)(),r=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),c=Object(On.e)((function(e){return e.Auth.user})),i=Object(On.e)((function(e){return e.Auth.watchlist})),o=e.match.params.id,s=Object(On.e)((function(e){return e.DetailCourse.course})),l=Object(On.e)((function(e){return e.DetailCourse.isLoading}));if(Object(b.useEffect)((function(){return t(Ct.get(o)),function(){t(Gt.get())}}),[t,o,i]),!s)return Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:Pr})});var u=function(){return Object(a.jsx)("div",{className:"main",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)(zn.a,{children:[Object(a.jsxs)(Gn.a,{span:12,children:[Object(a.jsxs)(Or.a,{children:[Object(a.jsx)(Or.a.Item,{children:Object(a.jsx)("a",{id:"courseTeacher",onClick:function(){t(xt.get(null===s||void 0===s?void 0:s.category)),n.push("/categories/".concat(null===s||void 0===s?void 0:s.categoryId))},children:null===s||void 0===s?void 0:s.category})}),Object(a.jsx)(Or.a.Item,{children:Object(a.jsx)("a",{id:"courseTeacher",children:null===s||void 0===s?void 0:s.name})})]}),Object(a.jsx)("p",{id:"courseHeader",children:null===s||void 0===s?void 0:s.name}),Object(a.jsx)("p",{id:"courseTeacher",children:null===s||void 0===s?void 0:s.teacherName}),Object(a.jsxs)(zn.a,{children:[Object(a.jsx)(Qn.a,{className:"courseTeacher",disabled:!0,defaultValue:null===s||void 0===s?void 0:s.rating}),Object(a.jsxs)("p",{id:"courseTeacher",children:["(",null===s||void 0===s?void 0:s.ratingCount,")"]})]}),Object(a.jsxs)(zn.a,{style:{display:"flex",alignItems:"center"},children:[null!==(null===s||void 0===s?void 0:s.promotionPrice)&&(null===s||void 0===s?void 0:s.promotionPrice)>=0&&(null===s||void 0===s?void 0:s.promotionPrice)<(null===s||void 0===s?void 0:s.price)&&Object(a.jsxs)("p",{id:"promotionPrice",children:["$ ",null===s||void 0===s?void 0:s.price]}),Object(a.jsx)("p",{id:"courseTeacher",style:{fontSize:24,fontWeight:"bold"},children:0===(null===s||void 0===s?void 0:s.price)||0===(null===s||void 0===s?void 0:s.promotionPrice)?"FREE":(null===s||void 0===s?void 0:s.promotionPrice)>0?"$"+(null===s||void 0===s?void 0:s.promotionPrice):"$"+(null===s||void 0===s?void 0:s.price)})]}),Object(a.jsx)(zn.a,{children:Object(a.jsxs)("p",{id:"courseTeacher",children:[null===s||void 0===s?void 0:s.enrollCount," already enrolled"]})}),c?(null===c||void 0===c?void 0:c.role)===g.STUDENT?!1===(null===s||void 0===s?void 0:s.isEnrolled)?Object(a.jsxs)(zn.a,{children:[Object(a.jsx)(j.a,{style:{backgroundColor:"#FFC000",color:"white",height:60,width:200,fontSize:20,marginRight:16},type:"primary",onClick:function(){var e={id:null===s||void 0===s?void 0:s.id,data:{paidStatus:!0,total:(null===s||void 0===s?void 0:s.promotionPrice)&&(null===s||void 0===s?void 0:s.promotionPrice)>0?null===s||void 0===s?void 0:s.promotionPrice:null===s||void 0===s?void 0:s.price}};t(At.get(e))},children:"Buy now"}),Object(a.jsx)(j.a,{style:{backgroundColor:"white",color:"#FFC000",height:60,width:200,fontSize:16},type:"primary",onClick:function(){var e={id:c.id,courseId:s.id};t(Tt.get(e))},children:(null===i||void 0===i?void 0:i.length)>0&&i.filter((function(e){return e.id===(null===s||void 0===s?void 0:s.id)})).length>0?"Add to watchlist":"Remove from watchlist"})]}):Object(a.jsx)(j.a,{style:{backgroundColor:"white",color:"#FFC000",height:60,width:200,fontSize:16},type:"primary",onClick:function(){var e={id:c.id,courseId:null===s||void 0===s?void 0:s.id};t(Tt.get(e))},children:(null===i||void 0===i?void 0:i.length)>0&&i.filter((function(e){return e.id===(null===s||void 0===s?void 0:s.id)})).length>0?"Add to watchlist":"Remove from watchlist"}):Object(a.jsx)("div",{}):Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"#FFC000",color:"white",height:60,width:200,fontSize:16},type:"primary",onClick:function(){return n.push("/signup")},children:"Buy now"}),Object(a.jsxs)("p",{id:"courseTeacher",children:["Last update: ",ir()(null===s||void 0===s?void 0:s.updatedAt).format("llll")]})]}),Object(a.jsx)(Gn.a,{span:12,style:{display:"flex",alignItems:"center"},children:Object(a.jsx)("p",{id:"courseTeacher",children:null===s||void 0===s?void 0:s.shortDescription})})]})})})};return l||!s?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:Pr})}):Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fn,{}),Object(a.jsx)("div",{style:{display:"block",justifyContent:"center",alignItems:"center",backgroundColor:"white"},children:r?Object(a.jsx)("div",{className:"courseBg",style:{backgroundImage:"url(".concat((null===s||void 0===s?void 0:s.thumbnail)?null===s||void 0===s?void 0:s.thumbnail:"https://source.unsplash.com/random",")"),width:"100vw",height:"auto"},children:Object(a.jsx)("div",{className:"overBg",children:u()})}):Object(a.jsx)("div",{className:"courseBgPhone",style:{backgroundImage:"url(".concat((null===s||void 0===s?void 0:s.thumbnail)?null===s||void 0===s?void 0:s.thumbnail:"https://source.unsplash.com/random",")"),width:"100vw",height:"auto"},children:Object(a.jsx)("div",{className:"overBg",children:u()})})}),Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)(ar.a,{size:"large",defaultActiveKey:"1",centered:!0,children:[Object(a.jsx)(Dr,{tab:"Information",children:Object(a.jsx)(wr,{description:null===s||void 0===s?void 0:s.description,teacherName:null===s||void 0===s?void 0:s.teacherName,teacherEmail:null===s||void 0===s?void 0:s.teacherEmail,teacherAvatar:null===s||void 0===s?void 0:s.teacherAvatar})},"1"),Object(a.jsx)(Dr,{tab:"Syllabus",children:Object(a.jsx)(kr,{chapters:null===s||void 0===s?void 0:s.chapters,poster:null===s||void 0===s?void 0:s.thumbnail})},"2"),Object(a.jsx)(Dr,{tab:"Ratings & Reviews",children:Object(a.jsx)(Er,{})},"3")]}),Object(a.jsxs)("div",{id:"swipe",style:{paddingBottom:50},children:[Object(a.jsx)("p",{id:"introHeader",style:{color:"#FF8A00"},children:"Similar courses"}),Object(a.jsx)(xr,{list:null===s||void 0===s?void 0:s.relatedCourses,type:"courses"})]})]}),Object(a.jsx)(vn,{})]})},_r=n(470),Lr=n.n(_r),Fr=u.a.Title,Br=u.a.Text,Ur=Mn.a.Option,Mr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});function zr(e){var t=Object(Dn.f)().courseId,n=Object(On.d)(),r=Object(On.e)((function(e){return e.Auth.user})),c=Object(On.e)((function(e){return e.Course.courseDetail})),i=Object(On.e)((function(e){return e.Dashboard.userList})),o=Object(On.e)((function(e){return e.Course.isLoading})),s=Object(On.e)((function(e){return e.Course.isUpdating})),l=Object(Dn.e)(),d=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),h=Object(On.e)((function(e){return e.Dashboard.categoryList})),p=Object(b.useState)(!1),O=Object(yn.a)(p,2),f=O[0],x=O[1],v=[];h.forEach((function(e){v.push({name:e.name,id:e.id}),(null===e||void 0===e?void 0:e.subCategory)&&(null===e||void 0===e?void 0:e.subCategory.length)>0&&(null===e||void 0===e||e.subCategory.forEach((function(e){v.push({name:e.name,id:e.id})})))})),Object(b.useEffect)((function(){!r||r.role!==g.ADMIN&&r.role!==g.TEACHER?l.replace("/"):(n(_.get()),n(Ze.get(t)),r.role===g.ADMIN&&n(q.get({role:g.TEACHER})))}),[r]);var C=function(e,a){e.chapters.forEach((function(e,t){e.numberId=t+1})),n(tt.get({id:t,data:Object(le.a)(Object(le.a)({},e),{},{numberOfChapter:e.chapters.length,thumbnail:a,promotionPrice:Number(e.promotionPrice)?Number(e.promotionPrice):null})}))},E=function(){var e=Object(aa.a)(na.a.mark((function e(n){var a,r;return na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ga.storage().ref("Courses").child("thumbnail_".concat(t)).putString(n.thumbnail,"data_url");case 3:return a=e.sent,e.next=6,a.ref.getDownloadURL();case 6:r=e.sent,C(n,r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),y.alertMessage("Information","An unexpected error occured when updating image. Please try again before updating course.");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();if(o||!r||!c)return Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:Mr})});if(r.role===g.TEACHER&&c.teacherId!==r.id)return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{from:"addCourse"}),Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)(u.a,{variant:"body1",style:{margin:28},children:"You are not allowed to edit this course. Press this button to go back to home."}),Object(a.jsx)(j.a,{type:"primary",size:"large",onClick:function(){return l.replace("/")},children:"Return to homepage"})]})]});var S=Lr()(c.description),T=S.contentBlocks,w=S.entityMap,I=da.ContentState.createFromBlockArray(T,w),A=da.EditorState.createWithContent(I),N=Object(a.jsxs)("div",{children:[f?Object(a.jsx)(ra.a,{style:{color:m}}):Object(a.jsx)(ca.a,{}),Object(a.jsx)("div",{className:"ant-upload-text",style:{fontFamily:"Source Sans Pro"},children:f?"Uploading":"Upload"})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{from:"addCourse"}),Object(a.jsx)(ha.b,{initialValues:{name:c.name||"",shortDescription:c.shortDescription||null,description:c.description||"",thumbnail:c.thumbnail||null,price:c.price||0,chapters:c.chapters||[{numberId:1,name:"",description:null,video:null}],categoryId:c.categoryId||null,completeStatus:c.completeStatus||!1,publicStatus:c.publicStatus||!0,teacherId:c.teacherId||(r&&r.role===g.TEACHER?r.id:null),promotionPrice:c.promotionPrice||null},isInitialValid:!1,validationSchema:wa,onSubmit:function(){var e=Object(aa.a)(na.a.mark((function e(t){return na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.thumbnail||!t.thumbnail.includes(";base64")){e.next=5;break}return e.next=3,E(t);case 3:e.next=6;break;case 5:C(t,t.thumbnail);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var c=e.handleChange,o=e.handleBlur,b=e.handleSubmit,h=e.values,p=(e.isValid,e.errors),O=(e.touched,e.setFieldTouched),m=e.setFieldValue;return Object(a.jsxs)("div",{className:"createBg",style:{marginLeft:d?64:0,marginRight:d?64:0},children:[Object(a.jsx)(Fr,{level:4,style:{textAlign:"center",marginBottom:48},children:"Edit course"}),Object(a.jsx)(oa.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,customRequest:va,beforeUpload:Ca,onChange:function(e){return function(e,t){"uploading"!==e.file.status?"done"===e.file.status&&ya(e.file.originFileObj,(function(e){t("thumbnail")(e),x(!1)})):x(!0)}(e,c)},children:h.thumbnail?Object(a.jsx)("img",{src:h.thumbnail,alt:"avatar",style:{width:"100%"}}):N}),Object(a.jsx)(u.a,{style:{color:"red"},children:p.thumbnail}),Object(a.jsxs)("div",{style:{marginTop:12},children:[Object(a.jsx)(Br,{strong:!0,children:"Name"}),Object(a.jsx)(ua,{className:"inputBox",value:h.name,onChange:c("name"),onTouchStart:function(){return O("name")},onBlur:o("name"),placeholder:"Python Development",error:p.name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Br,{strong:!0,children:"Short description"}),Object(a.jsx)(ua,{className:"inputBox",value:h.shortDescription,onChange:c("shortDescription"),onTouchStart:function(){return O("shortDescription")},onBlur:o("shortDescription"),placeholder:"This is a Python course",error:p.shortDescription})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Br,{strong:!0,children:"Description"}),Object(a.jsx)(Sa.Editor,{wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",defaultEditorState:A,onBlur:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){},n=Object(da.convertToRaw)(e.getCurrentContent()),a=ba()(n);t("description",a)}(t,m)}})]}),Object(a.jsxs)("div",{style:{marginBottom:12,marginTop:16},children:[Object(a.jsx)(Br,{strong:!0,children:"Category"}),Object(a.jsxs)(Mn.a,{style:{width:"100%"},value:h.categoryId,onChange:function(e){return m("categoryId",e)},children:[Object(a.jsx)(Ur,{value:null,children:"Choose one category"}),v.map((function(e){return Object(a.jsx)(Ur,{value:e.id,children:e.name},"cate".concat(e.id))}))]}),Object(a.jsx)(u.a,{style:{color:"red"},children:p.categoryId})]}),r&&r.role===g.ADMIN&&Object(a.jsxs)("div",{style:{marginBottom:12,marginTop:16},children:[Object(a.jsx)(Br,{strong:!0,children:"Teacher"}),Object(a.jsxs)(Mn.a,{style:{width:"100%"},value:h.teacherId,onChange:function(e){return m("teacherId",e)},children:[Object(a.jsx)(Ur,{value:null,children:"Choose one teacher for this course"}),i.map((function(e){return Object(a.jsx)(Ur,{value:e.id,children:e.fullName},"teacher".concat(e.id))}))]}),Object(a.jsx)(u.a,{style:{color:"red"},children:p.teacherId})]}),Object(a.jsxs)(zn.a,{align:"middle",justify:"space-between",wrap:!0,gutter:32,children:[Object(a.jsxs)(Gn.a,{span:6,xs:24,sm:24,lg:12,className:"rowCol",children:[Object(a.jsx)(Br,{strong:!0,style:{marginBottom:12,marginRight:8},children:"Price"}),Object(a.jsx)(ua,{className:"inputBox",value:h.price,onChange:c("price"),onTouchStart:function(){return O("price")},onBlur:o("price"),placeholder:"1.99",error:p.price,type:"number"})]}),Object(a.jsxs)(Gn.a,{span:6,xs:24,sm:24,lg:12,className:"rowCol",children:[Object(a.jsx)(Br,{strong:!0,style:{marginBottom:12,marginRight:8},children:"Promotion price (left blank if not provided)"}),Object(a.jsx)(ua,{className:"inputBox",value:h.promotionPrice,onChange:c("promotionPrice"),onTouchStart:function(){return O("promotionPrice")},onBlur:o("promotionPrice"),placeholder:"0.99",error:p.promotionPrice,type:"number"})]}),Object(a.jsxs)(Gn.a,{span:6,xs:14,sm:12,lg:12,className:"rowCol",children:[Object(a.jsx)(Br,{style:{marginRight:16},strong:!0,children:"Mark as complete"}),Object(a.jsx)(sa.a,{defaultChecked:h.completeStatus,onChange:function(e){return m("completeStatus",e)}})]}),Object(a.jsxs)(Gn.a,{span:6,xs:10,sm:12,lg:12,className:"rowCol",children:[Object(a.jsx)(Br,{style:{marginRight:16},strong:!0,children:"Public"}),Object(a.jsx)(sa.a,{defaultChecked:h.publicStatus,onChange:function(e){return m("publicStatus",e)}})]})]}),Object(a.jsxs)("div",{style:{marginTop:48},children:[Object(a.jsx)(Fr,{style:{marginBottom:16},level:5,children:"Chapters"}),Object(a.jsx)(zn.a,{align:"top",justify:"start",wrap:!0,gutter:[{xs:8,sm:16,md:24},{xs:8,sm:16,md:24}],children:h.chapters.length>0&&h.chapters.map((function(e,r){var c,i,s;return Object(a.jsxs)(Gn.a,{span:8,xs:24,md:12,lg:8,children:[Object(a.jsxs)("div",{className:"rowCol",style:{marginBottom:8},children:[Object(a.jsxs)(Br,{strong:!0,children:["Chapter ",r+1]}),Object(a.jsx)(j.a,{size:"middle",style:{backgroundColor:"red",color:"white"},onClick:function(){return function(e,a,r,c){if(e.id)n(rt.get({courseId:t,chapterId:e.id,onSuccess:function(){var e=r.chapters;e.splice(a,1),c("chapters",e)}}));else{var i=r.chapters;i.splice(a,1),c("chapters",i)}}(e,r,h,m)},children:"Delete"})]}),Object(a.jsx)(ua,{className:"inputBox",value:e.name,onChange:function(e){var t=h.chapters;t[r].name=e.target.value,m("chapters",t)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Chapter name",error:p.chapters&&"object"===typeof p.chapters&&(null===(c=p.chapters[r])||void 0===c?void 0:c.name)&&p.chapters[r].name}),Object(a.jsx)(ua,{className:"inputBox",value:e.description,onChange:function(e){var t=h.chapters;t[r].description=e.target.value,m("chapters",t)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Description",error:p.chapters&&"object"===typeof p.chapters&&(null===(i=p.chapters[r])||void 0===i?void 0:i.description)&&p.chapters[r].description}),Object(a.jsx)(ua,{className:"inputBox",value:e.video,onChange:function(e){var t=h.chapters;t[r].video=e.target.value,m("chapters",t)},onTouchStart:function(){return O("chapters")},onBlur:o("chapters"),placeholder:"Chapter video link",error:p.chapters&&"object"===typeof p.chapters&&(null===(s=p.chapters[r])||void 0===s?void 0:s.video)&&p.chapters[r].video})]},"step".concat(e.numberId))}))}),p.chapters&&"string"===typeof p.chapters&&Object(a.jsx)(u.a,{style:{color:"red"},children:p.chapters}),Object(a.jsx)(j.a,{size:"middle",type:"primary",style:{marginTop:16},onClick:function(){var e=h.chapters;e.push({numberId:h.chapters.length+1,name:"",description:null,video:null}),m("chapters",e)},children:"Add chapter"})]}),Object(a.jsxs)("div",{style:{textAlign:"center",marginTop:64},children:[Object(a.jsx)(j.a,{size:"large",style:{marginRight:24,backgroundColor:"red",color:"white"},onClick:function(){return l.goBack()},children:"Cancel"}),Object(a.jsx)(j.a,{size:"large",type:"primary",disabled:Object.keys(p).length>0,onClick:b,loading:s,children:"Update"})]})]})}}),Object(a.jsx)(vn,{})]})}var Gr=function(){var e=Object(Dn.e)(),t=Object(On.d)(),n=Object(On.e)((function(e){var t;return null===(t=e.Auth)||void 0===t?void 0:t.user})),r=Object(Bn.useMediaQuery)({minDeviceWidth:1224});Object(b.useEffect)((function(){n&&e.replace("/")}),[n]);var c=xa.c().shape({email:xa.e().trim().max(48,"Email must have at most 48 characters").label("Email").email("Invalid email").required("* Please input email")}),i=function(e){t(fe.get(Object(le.a)(Object(le.a)({},e),{},{email:e.email.toLowerCase()})))};return Object(a.jsxs)("div",{id:"bg",children:[Object(a.jsxs)("div",{id:"loginBg",children:[Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:Object(a.jsx)("img",{src:gn,alt:"forgot",width:100})}),Object(a.jsx)("div",{id:"loginBox",children:Object(a.jsx)(ha.b,{initialValues:{email:""},isInitialValid:!1,validationSchema:c,onSubmit:function(e){return i(e)},children:function(t){var n=t.handleChange,r=t.handleBlur,c=t.handleSubmit,o=t.values,s=t.isValid,l=t.errors,u=(t.touched,t.setFieldTouched);return Object(a.jsxs)(ha.a,{className:"formStyle",children:[Object(a.jsx)("span",{id:"loginStyle",children:"Ok let\u2019s fetch you ya\u2019 login details"}),Object(a.jsx)(ua,{className:"inputBox",value:o.email,onChange:n("email"),onTouchStart:function(){return u("email")},onBlur:r("email"),placeholder:"Email",onKeyPress:function(e){return function(e,t,n){e&&"Enter"===t.key&&i(n)}(s,e,o)},error:l.email}),Object(a.jsxs)("div",{style:{alignSelf:"flex-end",marginBottom:34},children:[Object(a.jsx)("span",{children:"Already have an account? "}),Object(a.jsx)(j.a,{style:{padding:0},color:"primary",type:"link",onClick:function(){return e.push({pathname:"/signin",state:{from:"/forgot"}})},children:"Back to Sign Up"})]}),Object(a.jsx)(j.a,{id:"loginBtn",disabled:!s,type:"primary",onClick:c,children:"Proceed"})]})}})})]}),r&&Object(a.jsx)("div",{id:"imgBg",style:{backgroundImage:"url(".concat(Da,")")}})]})};var Hr=function(e){return Object(a.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)(j.a,{style:{marginTop:60,alignSelf:"center"},type:"primary",shape:"round",onClick:e.onClick,children:"Discover"})})};var Vr=function(){var e=Object(On.d)(),t=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),n=Object(On.e)((function(e){return e.Auth.user})),r=Object(On.e)((function(e){return e.Home})),c=r.trending,i=r.mostBuy,o=r.newest,s=r.trendCategory;return Object(b.useEffect)((function(){return e(_.get()),e(ut.get()),function(){}}),[]),Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(Fn,{}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,backgroundColor:"white"},children:t&&Object(a.jsxs)("div",{id:"landing",style:{backgroundImage:"url(".concat(fn,")")},children:[Object(a.jsx)("span",{id:"welcomeTxt",children:"Get Access to Unlimited Educational Resources. Everywhere, Everytime!"}),n?Object(a.jsx)("div",{}):Object(a.jsx)(j.a,{style:{marginTop:"1vw",backgroundColor:"white",color:"#FFC000"},type:"primary",onClick:function(){return O.push("/signup")},children:"Join for Free"})]})}),Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("div",{id:"swipe",children:[Object(a.jsx)("p",{id:"type",children:"Trending Courses"}),Object(a.jsx)(xr,{list:c,type:"courses"}),Object(a.jsx)(Hr,{onClick:function(){return O.push("/courses")}})]}),Object(a.jsxs)("div",{id:"swipe",children:[Object(a.jsx)("p",{id:"type",children:"Most Popular Courses"}),Object(a.jsx)(xr,{list:i,type:"courses"}),Object(a.jsx)(Hr,{onClick:function(){return O.push("/courses")}})]}),Object(a.jsxs)("div",{id:"swipe",children:[Object(a.jsx)("p",{id:"type",children:"Newest Courses"}),Object(a.jsx)(xr,{list:o,type:"courses"}),Object(a.jsx)(Hr,{onClick:function(){return O.push("/courses")}})]}),Object(a.jsxs)("div",{id:"swipe",children:[Object(a.jsx)("p",{id:"type",children:"Top categories"}),Object(a.jsx)(xr,{list:s,type:"category"}),Object(a.jsx)(Hr,{onClick:function(){return O.push("/courses")}})]})]}),Object(a.jsx)(vn,{})]})};n(243);var Qr=function(e){var t=e.courseList,n=Object(b.useState)(""),r=Object(yn.a)(n,2),c=r[0],i=r[1],o=Object(b.useState)(""),s=Object(yn.a)(o,2),l=s[0],u=s[1],j=Object(b.useRef)(),h=Object(Dn.e)(),p=Object(On.d)(),O=Object(On.e)((function(e){return e.Auth.user})),f=[Object(le.a)(Object(le.a)({},qa("name","Enter name to find",c,i,l,u,j)),{},{title:"Course",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Nn.a,{shape:"square",size:56,src:null===t||void 0===t?void 0:t.thumbnail}),Object(a.jsx)("span",{children:e})]})}}),Object(le.a)(Object(le.a)({},qa("category","Enter category to find",c,i,l,u,j)),{},{title:"Category",dataIndex:"category",key:"category",sorter:function(e,t){return e.category.localeCompare(t.category)}}),{title:"Rating",dataIndex:"rating",key:"rating",sorter:function(e,t){return e.rating>t.rating}},{title:"Price",dataIndex:"price",key:"price",sorter:function(e,t){return e.price>t.price}},Object(le.a)(Object(le.a)({},qa("teacherName","Enter teacher name to find",c,i,l,u,j)),{},{title:"Teacher",dataIndex:"teacherName",key:"teacherName",sorter:function(e,t){return e.teacherName.localeCompare(t.teacherName)},render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Nn.a,{size:56,src:null===t||void 0===t?void 0:t.teacherAvatar}),Object(a.jsx)("span",{children:e})]})}}),{title:"Action",key:"action",render:function(e,t){return Object(a.jsxs)(ia.b,{children:[Object(a.jsx)(Za.a,{style:{fontSize:20},onClick:function(){return function(e){h.push("/course/".concat(e.id))}(t)}}),Object(a.jsx)(Fa.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){d.a.confirm({title:"Confirm",icon:Object(a.jsx)(Fa.a,{style:{color:m}}),content:"Do you confirm to move ".concat(e.name," out of watchlist?"),okText:"Confirm",cancelText:"Cancel",centered:!0,okButtonProps:{style:{backgroundColor:m}},onOk:function(){p(Tt.get({id:O.id,courseId:e.id})),d.a.destroyAll()}})}(t)}})]})}}];return Object(a.jsx)(Ma.a,{columns:f,dataSource:t})},Wr=ar.a.TabPane,qr=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var Kr=function(){var e=Object(On.e)((function(e){return e.Auth.user})),t=Object(On.e)((function(e){return e.Auth.isLoadingProfile})),n=Object(On.e)((function(e){return e.Auth.watchlist})),r=Object(Dn.e)(),c=Object(On.d)();return Object(b.useEffect)((function(){e&&e.role!==g.ADMIN?(c(we.get(e.id)),e.role===g.STUDENT&&c(Le.get(e.id))):r.replace("/")}),[]),Object(b.useEffect)((function(){e&&e.role!==g.ADMIN||r.replace("/")}),[e]),t||!e?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:qr})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{}),Object(a.jsxs)("div",{className:"chooseContainer",style:{minWidth:500},children:[Object(a.jsx)("span",{className:"titleTopic",style:{alignSelf:"center"},children:"My courses"}),Object(a.jsx)("div",{style:{minHeight:"40vh"},children:e.role===g.TEACHER?Object(a.jsx)(or,{role:e.role,courseList:e.courses}):Object(a.jsxs)(ar.a,{defaultActiveKey:"1",centered:!0,children:[Object(a.jsx)(Wr,{tab:"My enrollment",children:Object(a.jsx)(or,{role:e.role,courseList:e.enrollment})},"1"),Object(a.jsx)(Wr,{tab:"My watchlist",children:Object(a.jsx)(Qr,{courseList:n})},"2")]})})]}),Object(a.jsx)(vn,{})]})};var Yr=function(e){var t=e.user,n=Object(On.e)((function(e){return e.Auth.isLoading})),r=Object(On.d)(),c=Object(Bn.useMediaQuery)({minDeviceWidth:1224}),i=xa.c().shape({oldPass:xa.e().required("* Please input password").min(8,"Password must include at least 8 characters").max(48,"Password must include at most 48 characters").matches(/(?=.{8,})/,{message:"Password must include at least 8 characters"}),newPass:xa.e().required("* Please input password").min(8,"New password must include at least 8 characters").max(48,"New password must include at most 48 characters").matches(/(?=.{8,})/,{message:"New password must include at least 8 characters"}).notOneOf([xa.d("oldPass"),null],"New password must be different from old password"),confirmPass:xa.e().required("* Please input new password again").oneOf([xa.d("newPass"),null],"Confirm password is not same as new password")}),o=function(e){r(Ee.get({id:t.id,data:e}))},s=function(e,t,n){e&&"Enter"===t.key&&o(n)};return Object(a.jsx)(ha.b,{initialValues:{oldPass:"",newPass:"",confirmPass:""},isInitialValid:!1,validationSchema:i,onSubmit:function(e){return o(e)},children:function(e){var t=e.handleChange,r=e.handleBlur,i=e.handleSubmit,o=e.values,l=e.isValid,u=e.errors,d=(e.touched,e.setFieldTouched);return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:48},children:[Object(a.jsxs)("div",{style:{width:c?400:"100%"},children:[Object(a.jsx)(ua,{className:"inputBox",placeholder:"Current password",defaultValue:o.oldPass,onChange:t("oldPass"),onTouchStart:function(){return d("oldPass")},onBlur:r("oldPass"),onKeyPress:function(e){return s(l,e,o)},error:u.oldPass,type:"password"}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"New password",defaultValue:o.newPass,onChange:t("newPass"),onTouchStart:function(){return d("newPass")},onBlur:r("newPass"),onKeyPress:function(e){return s(l,e,o)},error:u.newPass,type:"password"}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"Confirm password",defaultValue:o.confirmPass,onChange:t("confirmPass"),onTouchStart:function(){return d("confirmPass")},onBlur:r("confirmPass"),onKeyPress:function(e){return s(l,e,o)},error:u.confirmPass,type:"password"})]}),Object(a.jsx)(j.a,{style:{marginTop:24},disabled:!l,loading:n,type:"primary",onClick:i,children:n?"Changing":"Change password"})]})}})},Jr=n(471),$r=n.n(Jr);n(867);function Zr(e){var t=Object(On.d)(),n=Object(On.e)((function(e){return e.Auth.user})),r=Object(b.useState)({aspect:1}),c=Object(yn.a)(r,2),i=c[0],o=c[1],s=Object(b.useState)(null),l=Object(yn.a)(s,2),u=l[0],h=l[1],p=Object(b.useState)(null),O=Object(yn.a)(p,2),m=O[0],f=O[1],g=e.onClose,x=e.value,v=e.open,y=function(){C(),g()},C=function(){var e=Object(aa.a)(na.a.mark((function e(){var a,r;return na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ga.storage().ref("Avatar").child(n.id).putString(m,"data_url");case 3:return a=e.sent,e.next=6,a.ref.getDownloadURL();case 6:r=e.sent,t(Ne.get({id:n.id,data:{avatar:r}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(aa.a)(na.a.mark((function e(t){return na.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&t.width&&t.height)){e.next=3;break}return e.next=3,S(u,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){var n=document.createElement("canvas"),a=e.naturalWidth/e.width,r=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*a,t.y*r,t.width*a,t.height*r,0,0,t.width,t.height);var c=new FileReader;n.toBlob((function(e){c.readAsDataURL(e),c.onloadend=function(){f(c.result)}}))};return Object(a.jsx)(d.a,{title:"Update avatar",visible:v,centered:!0,onOk:y,onCancel:g,footer:[Object(a.jsx)(j.a,{onClick:g,size:"large",children:"Cancel"},"cancelButton"),Object(a.jsx)(j.a,{size:"large",type:"primary",onClick:y,disabled:null==m,children:"Update"},"okButton")],children:Object(a.jsx)($r.a,{src:x,crop:i,ruleOfThirds:!0,onImageLoaded:function(e){return h(e)},onComplete:E,onChange:function(e){return o(e)}})})}Zr.defaultProps={value:null,onClose:function(){},open:!1};var Xr=Zr,ec=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0}),tc=xa.c().shape({fullName:xa.e().trim().required("* Please input password").min(3,"Full name must include at least 3 characters").max(64,"Full name must include at most 48 characters").matches(/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/,{message:"Invalid full name"}),phoneNumber:xa.e().required("* Please input phone number").matches(/((09|03|07|08|05)+([0-9]{8})\b)/,{message:"Invalid phone number"})});var nc=function(e){var t=e.user,n=Object(b.useState)(!1),r=Object(yn.a)(n,2),c=r[0],i=r[1],o=Object(On.e)((function(e){return e.Auth.isLoading})),s=Object(On.d)(),l=Object(b.useRef)(),d=Object(b.useState)(null),h=Object(yn.a)(d,2),p=h[0],O=h[1],m=Object(Bn.useMediaQuery)({minDeviceWidth:1224});Object(b.useEffect)((function(){o||i(!1)}),[o]);var f=function(e){s(Ne.get({id:t.id,data:e}))},g=function(e,t,n){e&&"Enter"===t.key&&f(n)},x=function(){O(null)};return Object(a.jsx)(ha.b,{initialValues:{fullName:(null===t||void 0===t?void 0:t.fullName)||"",phoneNumber:(null===t||void 0===t?void 0:t.phoneNumber)||""},isInitialValid:!1,validationSchema:tc,onSubmit:function(e){return f(e)},children:function(e){var n=e.handleChange,r=e.handleBlur,s=e.handleSubmit,d=e.values,b=e.isValid,h=e.errors,f=(e.touched,e.setFieldTouched);return Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",flex:1,justifyContent:"space-around",alignItems:"center",padding:48,flexDirection:m?"row":"column"},children:[Object(a.jsxs)("div",{style:{textAlign:"center",marginBottom:m?0:32},children:[Object(a.jsx)("input",{accept:"image/*",style:{display:"none"},ref:l,type:"file",onChange:function(e){return function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){O(t.result)}}(e.target.files[0])}}),Object(a.jsx)("a",{onClick:function(){return l.current.click()},children:o?Object(a.jsx)(Ra.a,{indicator:ec}):(null===t||void 0===t?void 0:t.avatar)?Object(a.jsx)(Nn.a,{size:150,src:null===t||void 0===t?void 0:t.avatar}):Object(a.jsx)(Nn.a,{size:150,icon:Object(a.jsx)(Cn.a,{})})}),Object(a.jsx)(u.a,{style:{fontSize:20,marginTop:16},children:t.fullName})]}),Object(a.jsxs)("div",{style:{width:m?400:"100%"},children:[Object(a.jsx)(ua,{className:"inputBox",placeholder:"Full name",defaultValue:d.fullName,disabled:!c,onChange:n("fullName"),onTouchStart:function(){return f("fullName")},onBlur:r("fullName"),onKeyPress:function(e){return g(b,e,d)},error:h.fullName}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"Email",defaultValue:null===t||void 0===t?void 0:t.email,disabled:!0}),Object(a.jsx)(ua,{className:"inputBox",placeholder:"Phone number",defaultValue:d.phoneNumber,disabled:!c,onChange:n("phoneNumber"),onTouchStart:function(){return f("phoneNumber")},onBlur:r("phoneNumber"),onKeyPress:function(e){return g(b,e,d)},error:h.phoneNumber})]})]}),c?Object(a.jsx)(j.a,{disabled:!b,loading:o,type:"primary",onClick:s,children:o?"Updating":"Update"}):Object(a.jsx)(j.a,{type:"primary",onClick:function(){return i(!0)},children:"Edit"}),Object(a.jsx)(Xr,{open:null!=p,value:p,onClose:x})]})}})},ac=ar.a.TabPane,rc=Object(a.jsx)(ra.a,{style:{fontSize:30,color:m},spin:!0});var cc=function(){var e=Object(On.e)((function(e){return e.Auth.user})),t=Object(On.e)((function(e){return e.Auth.isLoadingProfile})),n=Object(Dn.e)();return Object(b.useEffect)((function(){e||n.replace("/")}),[e]),t||!e?Object(a.jsx)("div",{className:"chooseContainer",children:Object(a.jsx)(Ra.a,{indicator:rc})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fn,{}),Object(a.jsxs)("div",{className:"chooseContainer",children:[Object(a.jsx)("span",{className:"titleTopic",style:{alignSelf:"center"},children:"Profile"}),Object(a.jsxs)(ar.a,{defaultActiveKey:"1",centered:!0,children:[Object(a.jsx)(ac,{tab:"Information",children:Object(a.jsx)(nc,{user:e})},"1"),Object(a.jsx)(ac,{tab:"Change Password",children:Object(a.jsx)(Yr,{user:e})},"2")]})]}),Object(a.jsx)(vn,{})]})},ic=n(186),oc=n.p+"static/media/signin.07d692eb.png";var sc=function(){var e=Object(Dn.e)(),t=Object(On.d)(),n=Object(On.e)((function(e){var t;return null===(t=e.Auth)||void 0===t?void 0:t.user})),r=Object(Bn.useMediaQuery)({minDeviceWidth:1224});Object(b.useEffect)((function(){n&&(n.role===g.ADMIN?e.replace("/admin"):e.location.state?e.goBack():e.replace("/"))}),[n]);var c=xa.c().shape({password:xa.e().required("* Please input password").min(8,"Password must include at least 8 characters").max(48,"Password must include at most 48 characters").matches(/(?=.{8,})/,{message:"Password must include at least 8 characters"}),email:xa.e().trim().max(48,"Email must have at most 48 characters").label("Email").email("Invalid email").required("* Please input email")}),i=function(e){t(je.get(Object(le.a)(Object(le.a)({},e),{},{email:e.email.toLowerCase()})))},o=function(e,t,n){e&&"Enter"===t.key&&i(n)};return Object(a.jsxs)("div",{id:"bg",children:[Object(a.jsxs)("div",{id:"loginBg",children:[Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:Object(a.jsx)("img",{src:gn,alt:"signin",width:100})}),Object(a.jsx)("div",{id:"loginBox",children:Object(a.jsx)(ha.b,{initialValues:{password:"",email:""},isInitialValid:!1,validationSchema:c,onSubmit:function(e){return i(e)},children:function(t){var n=t.handleChange,r=t.handleBlur,c=t.handleSubmit,i=t.values,s=t.isValid,l=t.errors,u=(t.touched,t.setFieldTouched);return Object(a.jsxs)(ha.a,{className:"formStyle",children:[Object(a.jsx)("span",{id:"loginStyle",children:"Sign in to your account to continue"}),Object(a.jsx)(ua,{className:"inputBox",value:i.email,onChange:n("email"),onTouchStart:function(){return u("email")},onBlur:r("email"),placeholder:"Email",onKeyPress:function(e){return o(s,e,i)},error:l.email}),Object(a.jsx)(ua,Object(ic.a)({className:"inputBox",type:"password",onChange:n("password"),onTouchStart:function(){return u("password")},value:i.password,onBlur:r("password"),placeholder:"Password",onKeyPress:function(e){return o(s,e,i)},error:l.password},"type","password")),Object(a.jsxs)("div",{className:"buttomBox",children:[Object(a.jsx)(j.a,{style:{padding:0},color:"primary",type:"link",onClick:function(){return e.push("/forgot")},children:"Forgot password?"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Don\u2019t have an account? "}),Object(a.jsx)(j.a,{style:{padding:0},color:"primary",type:"link",onClick:function(){return e.push("/signup")},children:"Sign up"})]})]}),Object(a.jsx)(j.a,{id:"loginBtn",disabled:!s,type:"primary",onClick:c,children:"Sign in"})]})}})})]}),r&&Object(a.jsx)("div",{id:"imgBg",style:{backgroundImage:"url(".concat(oc,")")}})]})},lc=n.p+"static/media/signup.46c9af80.png";var uc=function(){var e=Object(Dn.e)(),t=Object(On.d)(),n=Object(On.e)((function(e){var t;return null===(t=e.Auth)||void 0===t?void 0:t.user})),r=Object(Bn.useMediaQuery)({minDeviceWidth:1224});Object(b.useEffect)((function(){n&&e.replace("/")}),[n]);var c=xa.c().shape({email:xa.e().trim().max(48,"Email must have at most 48 characters").label("Email").email("Invalid email").required("* Please input email"),password:xa.e().required("* Please input password").min(8,"Password must include at least 8 characters").max(48,"Password must include at most 48 characters").matches(/(?=.{8,})/,{message:"Password must include at least 8 characters"}),fullName:xa.e().trim().required("* Please input password").min(3,"Full name must include at least 3 characters").max(64,"Full name must include at most 48 characters").matches(/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/,{message:"Invalid full name"})}),i=function(e){t(pe.get(Object(le.a)(Object(le.a)({},e),{},{email:e.email.toLowerCase(),role:g.NOT_VERIFIED})))},o=function(e,t,n){e&&"Enter"===t.key&&i(n)};return Object(a.jsxs)("div",{id:"bg",children:[Object(a.jsxs)("div",{id:"loginBg",children:[Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:Object(a.jsx)("img",{src:gn,alt:"signup",width:100})}),Object(a.jsx)("div",{id:"loginBox",children:Object(a.jsx)(ha.b,{initialValues:{email:"",password:"",fullName:""},isInitialValid:!1,validationSchema:c,onSubmit:function(e){return i(e)},children:function(t){var n=t.handleChange,r=t.handleBlur,c=t.handleSubmit,i=t.values,s=t.isValid,l=t.errors,u=(t.touched,t.setFieldTouched);return Object(a.jsxs)(ha.a,{className:"formStyle",children:[Object(a.jsx)("span",{id:"loginStyle",children:"Please create a new account here"}),Object(a.jsx)(ua,{className:"inputBox",value:i.fullName,onChange:n("fullName"),onTouchStart:function(){return u("fullName")},onBlur:r("fullName"),placeholder:"Full name",onKeyPress:function(e){return o(s,e,i)},error:l.fullName}),Object(a.jsx)(ua,{className:"inputBox",value:i.email,onChange:n("email"),onTouchStart:function(){return u("email")},onBlur:r("email"),placeholder:"Email",onKeyPress:function(e){return o(s,e,i)},error:l.email}),Object(a.jsx)(ua,Object(ic.a)({className:"inputBox",type:"password",onChange:n("password"),onTouchStart:function(){return u("password")},value:i.password,onBlur:r("password"),placeholder:"Password",onKeyPress:function(e){return o(s,e,i)},error:l.password},"type","password")),Object(a.jsxs)("div",{style:{alignSelf:"flex-end",marginBottom:34},children:[Object(a.jsx)("span",{children:"Already have an account? "}),Object(a.jsx)(j.a,{style:{padding:0},color:"primary",type:"link",onClick:function(){return e.push({pathname:"/signin",state:{from:"/signup"}})},children:"Sign in"})]}),Object(a.jsx)(j.a,{id:"loginBtn",disabled:!s,type:"primary",onClick:c,children:"Sign up"})]})}})})]}),r&&Object(a.jsx)("div",{id:"imgBg",style:{backgroundImage:"url(".concat(lc,")")}})]})};var dc=function(){var e=Object(Dn.f)().token,t=Object(On.d)();return Object(b.useEffect)((function(){t(Pe.get({token:e}))}),[]),Object(a.jsx)(ia.b,{style:{display:"flex",justifyContent:"center",paddingTop:48},children:Object(a.jsx)(Ra.a,{size:"large"})})},jc=n(64),bc=(n(868),n(869),n(870),n(330));var hc=function(){return Object(b.useEffect)((function(){return bc.a.initialize("G-85NDZ9JHMP"),O.listen((function(e){return bc.a.pageview(e.pathname)})),function(){}}),[]),Object(a.jsxs)(jc.a,{history:O,children:[Object(a.jsx)(Dn.a,{exact:!0,path:"/",component:Vr}),Object(a.jsx)(Dn.a,{path:"/signin",component:sc}),Object(a.jsx)(Dn.a,{path:"/signup",component:uc}),Object(a.jsx)(Dn.a,{path:"/forgot",component:Gr}),Object(a.jsx)(Dn.a,{path:"/reset/:token",component:Pa}),Object(a.jsx)(Dn.a,{path:"/verify/:token",component:dc}),Object(a.jsx)(Dn.a,{path:"/create",component:ka}),Object(a.jsx)(Dn.a,{path:"/admin",component:pr}),Object(a.jsx)(Dn.a,{path:"/courses",component:$n}),Object(a.jsx)(Dn.a,{path:"/profile",component:cc}),Object(a.jsx)(Dn.a,{path:"/my-courses",component:Kr}),Object(a.jsx)(Dn.a,{path:"/course/:courseId/edit",component:zr}),Object(a.jsx)(Dn.a,{path:"/categories/:id",component:ea}),Object(a.jsx)(Dn.a,{exact:!0,path:"/course/:id",component:Rr}),Object(a.jsx)(Dn.a,{path:"/about",component:Un})]})},pc=(n(871),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,910)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});hn.a.render(Object(a.jsx)(h.a.StrictMode,{children:Object(a.jsx)(On.a,{store:dn,children:Object(a.jsx)(r.b,{children:Object(a.jsx)(mn.a,{loading:null,persistor:jn,children:Object(a.jsxs)(pn.b.Provider,{value:{className:"react-icon-clasname",style:{verticalAlign:"middle"}},children:[Object(a.jsx)(hc,{}),Object(a.jsx)(y,{})]})})})})}),document.getElementById("root")),pc()}},[[872,1,2]]]);
//# sourceMappingURL=main.3f89b4f4.chunk.js.map